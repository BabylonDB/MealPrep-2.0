import{s as Re,n as ve,r as Ee,c as Te,o as ye,i as Ie}from"../chunks/scheduler.KmlgN0bi.js";import{S as Be,i as De,b as o,t as x,s as R,c as i,f as T,n as $,d as p,h as y,g as Y,j as a,a as z,k as t,l as Q,m as W,o as ee,r as ke,q as Ae}from"../chunks/index.mX1UHVfl.js";import{e as be}from"../chunks/each.D6YF6ztN.js";import{a as re}from"../chunks/axios.CCb-kr4I.js";import{j as je}from"../chunks/store.DX7lDXQD.js";function ge(e,r,c){const h=e.slice();return h[2]=r[c],h}function Ce(e){let r,c,h=e[2].name+"",B,n,m,_=(e[2].ingredients?e[2].ingredients.join(", "):"")+"",k,O,D,v=e[2].calories+"",H,I,b,A,M="Edit",l,f,C="Delete",j,L,X;function Z(){return e[10](e[2])}function N(){return e[11](e[2])}return{c(){r=o("tr"),c=o("td"),B=x(h),n=R(),m=o("td"),k=x(_),O=R(),D=o("td"),H=x(v),I=R(),b=o("td"),A=o("button"),A.textContent=M,l=R(),f=o("button"),f.textContent=C,j=R(),this.h()},l(w){r=i(w,"TR",{});var u=T(r);c=i(u,"TD",{});var q=T(c);B=$(q,h),q.forEach(p),n=y(u),m=i(u,"TD",{});var P=T(m);k=$(P,_),P.forEach(p),O=y(u),D=i(u,"TD",{});var S=T(D);H=$(S,v),S.forEach(p),I=y(u),b=i(u,"TD",{});var U=T(b);A=i(U,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(A)!=="svelte-533k1u"&&(A.textContent=M),l=y(U),f=i(U,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(f)!=="svelte-epn168"&&(f.textContent=C),U.forEach(p),j=y(u),u.forEach(p),this.h()},h(){a(A,"class","btn btn-secondary btn-sm"),a(f,"class","btn btn-danger btn-sm")},m(w,u){z(w,r,u),t(r,c),t(c,B),t(r,n),t(r,m),t(m,k),t(r,O),t(r,D),t(D,H),t(r,I),t(r,b),t(b,A),t(b,l),t(b,f),t(r,j),L||(X=[W(A,"click",Z),W(f,"click",N)],L=!0)},p(w,u){e=w,u&1&&h!==(h=e[2].name+"")&&ee(B,h),u&1&&_!==(_=(e[2].ingredients?e[2].ingredients.join(", "):"")+"")&&ee(k,_),u&1&&v!==(v=e[2].calories+"")&&ee(H,v)},d(w){w&&p(r),L=!1,Ee(X)}}}function Le(e){let r,c=e[1]?"Edit Recipe":"Create Recipe",h,B,n,m,_,k,O="Name",D,v,H,I,b,A="Ingredients (comma-separated)",M,l,f,C,j,L,X="Calories",Z,N,w,u,q=e[1]?"Update":"Submit",P,S,U,de="All Recipes",te,V,G,pe='<tr><th scope="col">Name</th> <th scope="col">Ingredients</th> <th scope="col">Calories</th> <th scope="col">Actions</th></tr>',ie,J,ce,fe,K=be(e[0]),E=[];for(let s=0;s<K.length;s+=1)E[s]=Ce(ge(e,K,s));return{c(){r=o("h1"),h=x(c),B=R(),n=o("form"),m=o("div"),_=o("div"),k=o("label"),k.textContent=O,D=R(),v=o("input"),H=R(),I=o("div"),b=o("label"),b.textContent=A,M=R(),l=o("input"),f=R(),C=o("div"),j=o("div"),L=o("label"),L.textContent=X,Z=R(),N=o("input"),w=R(),u=o("button"),P=x(q),S=R(),U=o("h1"),U.textContent=de,te=R(),V=o("table"),G=o("thead"),G.innerHTML=pe,ie=R(),J=o("tbody");for(let s=0;s<E.length;s+=1)E[s].c();this.h()},l(s){r=i(s,"H1",{class:!0});var g=T(r);h=$(g,c),g.forEach(p),B=y(s),n=i(s,"FORM",{class:!0});var d=T(n);m=i(d,"DIV",{class:!0});var F=T(m);_=i(F,"DIV",{class:!0});var ne=T(_);k=i(ne,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(k)!=="svelte-15kbfjq"&&(k.textContent=O),D=y(ne),v=i(ne,"INPUT",{class:!0,id:!0,type:!0}),ne.forEach(p),H=y(F),I=i(F,"DIV",{class:!0});var le=T(I);b=i(le,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(b)!=="svelte-1mkxfia"&&(b.textContent=A),M=y(le),l=i(le,"INPUT",{class:!0,id:!0,type:!0}),le.forEach(p),F.forEach(p),f=y(d),C=i(d,"DIV",{class:!0});var he=T(C);j=i(he,"DIV",{class:!0});var se=T(j);L=i(se,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(L)!=="svelte-1phwgci"&&(L.textContent=X),Z=y(se),N=i(se,"INPUT",{class:!0,id:!0,type:!0}),se.forEach(p),he.forEach(p),w=y(d),u=i(d,"BUTTON",{type:!0,class:!0});var me=T(u);P=$(me,q),me.forEach(p),d.forEach(p),S=y(s),U=i(s,"H1",{"data-svelte-h":!0}),Y(U)!=="svelte-9hymne"&&(U.textContent=de),te=y(s),V=i(s,"TABLE",{class:!0});var ae=T(V);G=i(ae,"THEAD",{"data-svelte-h":!0}),Y(G)!=="svelte-1qn73xh"&&(G.innerHTML=pe),ie=y(ae),J=i(ae,"TBODY",{});var _e=T(J);for(let ue=0;ue<E.length;ue+=1)E[ue].l(_e);_e.forEach(p),ae.forEach(p),this.h()},h(){a(r,"class","mt-3"),a(k,"class","form-label"),a(k,"for","name"),a(v,"class","form-control"),a(v,"id","name"),a(v,"type","text"),a(_,"class","col"),a(b,"class","form-label"),a(b,"for","ingredients"),a(l,"class","form-control"),a(l,"id","ingredients"),a(l,"type","text"),a(I,"class","col"),a(m,"class","row mb-3"),a(L,"class","form-label"),a(L,"for","calories"),a(N,"class","form-control"),a(N,"id","calories"),a(N,"type","number"),a(j,"class","col"),a(C,"class","row mb-3"),a(u,"type","button"),a(u,"class","btn btn-primary"),a(n,"class","mb-5"),a(V,"class","table")},m(s,g){z(s,r,g),t(r,h),z(s,B,g),z(s,n,g),t(n,m),t(m,_),t(_,k),t(_,D),t(_,v),Q(v,e[2].name),t(m,H),t(m,I),t(I,b),t(I,M),t(I,l),Q(l,e[2].ingredients),t(n,f),t(n,C),t(C,j),t(j,L),t(j,Z),t(j,N),Q(N,e[2].calories),t(n,w),t(n,u),t(u,P),z(s,S,g),z(s,U,g),z(s,te,g),z(s,V,g),t(V,G),t(V,ie),t(V,J);for(let d=0;d<E.length;d+=1)E[d]&&E[d].m(J,null);ce||(fe=[W(v,"input",e[7]),W(l,"input",e[8]),W(N,"input",e[9]),W(u,"click",function(){Ie(e[1]?e[6]:e[3])&&(e[1]?e[6]:e[3]).apply(this,arguments)})],ce=!0)},p(s,[g]){if(e=s,g&2&&c!==(c=e[1]?"Edit Recipe":"Create Recipe")&&ee(h,c),g&4&&v.value!==e[2].name&&Q(v,e[2].name),g&4&&l.value!==e[2].ingredients&&Q(l,e[2].ingredients),g&4&&ke(N.value)!==e[2].calories&&Q(N,e[2].calories),g&2&&q!==(q=e[1]?"Update":"Submit")&&ee(P,q),g&49){K=be(e[0]);let d;for(d=0;d<K.length;d+=1){const F=ge(e,K,d);E[d]?E[d].p(F,g):(E[d]=Ce(F),E[d].c(),E[d].m(J,null))}for(;d<E.length;d+=1)E[d].d(1);E.length=K.length}},i:ve,o:ve,d(s){s&&(p(r),p(B),p(n),p(S),p(U),p(te),p(V)),Ae(E,s),ce=!1,Ee(fe)}}}const oe="http://localhost:8080/api";function Ne(e,r,c){let h;Te(e,je,l=>c(12,h=l));let B=[],n={name:null,ingredients:null,calories:null},m=null;ye(()=>{_()});function _(){var l={method:"get",url:oe+"/recipe",headers:{Authorization:"Bearer "+h}};re(l).then(function(f){c(0,B=f.data)}).catch(function(f){alert("Could not fetch recipes"),console.log(f)})}function k(){const l=n.ingredients?n.ingredients.split(",").map(C=>C.trim()):[],f={name:n.name||"",ingredients:l,calories:parseInt(n.calories,10)||0};re.post(oe+"/recipe",f,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+h}}).then(function(){alert("Recipe created successfully"),c(2,n={name:"",ingredients:"",calories:""}),_()}).catch(function(C){alert("Could not create recipe"),console.error("Error:",C)})}function O(l){re.delete(`${oe}/recipe/${l}`,{headers:{Authorization:"Bearer "+h}}).then(()=>{alert("Recipe deleted successfully"),_()}).catch(f=>{alert("Could not delete recipe"),console.error("Error:",f)})}function D(l){c(1,m=l.id),c(2,n={name:l.name,ingredients:l.ingredients.join(", "),calories:l.calories})}function v(){const l=n.ingredients?n.ingredients.split(",").map(C=>C.trim()):[],f={name:n.name||"",ingredients:l,calories:parseInt(n.calories,10)||0};re.put(`${oe}/recipe/${m}`,f,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+h}}).then(()=>{alert("Recipe updated successfully"),c(2,n={name:"",ingredients:"",calories:""}),c(1,m=null),_()}).catch(C=>{alert("Could not update recipe"),console.error("Error:",C)})}function H(){n.name=this.value,c(2,n)}function I(){n.ingredients=this.value,c(2,n)}function b(){n.calories=ke(this.value),c(2,n)}return[B,m,n,k,O,D,v,H,I,b,l=>D(l),l=>O(l.id)]}class qe extends Be{constructor(r){super(),De(this,r,Ne,Le,Re,{})}}export{qe as component};
//# sourceMappingURL=5.C9Pj1Iy3.js.map
