import{s as Se,n as Ae,r as Re,c as Pe,o as Ye}from"../chunks/scheduler.CJdZjHFg.js";import{S as Ge,i as Je,e as u,s as v,t as oe,k as Ve,c as f,l as F,f as b,a as D,d as i,b as ie,m as a,g as w,h as n,n as W,o as X,j as ue,q as Ke}from"../chunks/index.mBUFKwsa.js";import{e as He}from"../chunks/each.D6YF6ztN.js";import{a as ye}from"../chunks/axios.CCb-kr4I.js";import{j as Qe}from"../chunks/store.Bl-ufj5Y.js";import{p as We}from"../chunks/stores.BjvLRQeR.js";function Me(l,t,s){const r=l.slice();return r[4]=t[s],r}function ze(l){let t,s;return{c(){t=u("div"),s=oe(l[2]),this.h()},l(r){t=f(r,"DIV",{class:!0});var p=D(t);s=ie(p,l[2]),p.forEach(i),this.h()},h(){a(t,"class","alert alert-danger")},m(r,p){w(r,t,p),n(t,s)},p(r,p){p&4&&ue(s,r[2])},d(r){r&&i(t)}}}function je(l){let t,s="Cancel",r,p;return{c(){t=u("button"),t.textContent=s,this.h()},l(d){t=f(d,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(t)!=="svelte-1jw19kd"&&(t.textContent=s),this.h()},h(){a(t,"type","button"),a(t,"class","btn btn-secondary ms-2")},m(d,E){w(d,t,E),r||(p=X(t,"click",l[8]),r=!0)},p:Ae,d(d){d&&i(t),r=!1,p()}}}function Oe(l){let t,s='<span class="visually-hidden">Loading...</span>';return{c(){t=u("div"),t.innerHTML=s,this.h()},l(r){t=f(r,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),F(t)!=="svelte-gq0gie"&&(t.innerHTML=s),this.h()},h(){a(t,"class","spinner-border text-primary"),a(t,"role","status")},m(r,p){w(r,t,p)},d(r){r&&i(t)}}}function qe(l){let t,s,r=l[4].name+"",p,d,E,c=l[4].email+"",y,V,z,C=(l[4].preferences||"N/A")+"",Y,L,k,H,K="Edit",U,M,j="Delete",O,q,h;function G(){return l[13](l[4])}function B(){return l[14](l[4])}return{c(){t=u("tr"),s=u("td"),p=oe(r),d=v(),E=u("td"),y=oe(c),V=v(),z=u("td"),Y=oe(C),L=v(),k=u("td"),H=u("button"),H.textContent=K,U=v(),M=u("button"),M.textContent=j,O=v(),this.h()},l(R){t=f(R,"TR",{});var m=D(t);s=f(m,"TD",{});var S=D(s);p=ie(S,r),S.forEach(i),d=b(m),E=f(m,"TD",{});var ne=D(E);y=ie(ne,c),ne.forEach(i),V=b(m),z=f(m,"TD",{});var $=D(z);Y=ie($,C),$.forEach(i),L=b(m),k=f(m,"TD",{});var g=D(k);H=f(g,"BUTTON",{class:!0,"data-svelte-h":!0}),F(H)!=="svelte-iiwyyv"&&(H.textContent=K),U=b(g),M=f(g,"BUTTON",{class:!0,"data-svelte-h":!0}),F(M)!=="svelte-1irvc8p"&&(M.textContent=j),g.forEach(i),O=b(m),m.forEach(i),this.h()},h(){a(H,"class","btn btn-warning btn-sm"),a(M,"class","btn btn-danger btn-sm ms-2")},m(R,m){w(R,t,m),n(t,s),n(s,p),n(t,d),n(t,E),n(E,y),n(t,V),n(t,z),n(z,Y),n(t,L),n(t,k),n(k,H),n(k,U),n(k,M),n(t,O),q||(h=[X(H,"click",G),X(M,"click",B)],q=!0)},p(R,m){l=R,m&1&&r!==(r=l[4].name+"")&&ue(p,r),m&1&&c!==(c=l[4].email+"")&&ue(y,c),m&1&&C!==(C=(l[4].preferences||"N/A")+"")&&ue(Y,C)},d(R){R&&i(t),q=!1,Re(h)}}}function Fe(l){let t,s="No users available.";return{c(){t=u("p"),t.textContent=s},l(r){t=f(r,"P",{"data-svelte-h":!0}),F(t)!=="svelte-1hgwweq"&&(t.textContent=s)},m(r,p){w(r,t,p)},d(r){r&&i(t)}}}function Xe(l){let t,s="User Management",r,p,d,E,c,y,V="Name",z,C,Y,L,k,H="Email",K,U,M,j,O,q,h="Password",G,B,R,m,S,ne="Preferences",$,g,ke,Q,ae=l[1]?"Update User":"Add User",fe,we,ce,de,pe,ee,Z,Ne="All Users",he,J,te,De="<tr><th>Name</th> <th>Email</th> <th>Preferences</th> <th>Actions</th></tr>",Ue,le,me,se,Te,Le,A=l[2]&&ze(l),N=l[1]&&je(l),I=l[3]&&Oe(),re=He(l[0]),T=[];for(let e=0;e<re.length;e+=1)T[e]=qe(Me(l,re,e));let P=l[0].length===0&&!l[3]&&Fe();return{c(){t=u("h1"),t.textContent=s,r=v(),A&&A.c(),p=v(),d=u("form"),E=u("div"),c=u("div"),y=u("label"),y.textContent=V,z=v(),C=u("input"),Y=v(),L=u("div"),k=u("label"),k.textContent=H,K=v(),U=u("input"),M=v(),j=u("div"),O=u("div"),q=u("label"),q.textContent=h,G=v(),B=u("input"),R=v(),m=u("div"),S=u("label"),S.textContent=ne,$=v(),g=u("input"),ke=v(),Q=u("button"),fe=oe(ae),we=v(),N&&N.c(),ce=v(),de=u("hr"),pe=v(),I&&I.c(),ee=v(),Z=u("h2"),Z.textContent=Ne,he=v(),J=u("table"),te=u("thead"),te.innerHTML=De,Ue=v(),le=u("tbody");for(let e=0;e<T.length;e+=1)T[e].c();me=v(),P&&P.c(),se=Ve(),this.h()},l(e){t=f(e,"H1",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-9mzzxm"&&(t.textContent=s),r=b(e),A&&A.l(e),p=b(e),d=f(e,"FORM",{class:!0});var o=D(d);E=f(o,"DIV",{class:!0});var _=D(E);c=f(_,"DIV",{class:!0});var x=D(c);y=f(x,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(y)!=="svelte-17mpp60"&&(y.textContent=V),z=b(x),C=f(x,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),x.forEach(i),Y=b(_),L=f(_,"DIV",{class:!0});var _e=D(L);k=f(_e,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(k)!=="svelte-7zanfm"&&(k.textContent=H),K=b(_e),U=f(_e,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),_e.forEach(i),_.forEach(i),M=b(o),j=f(o,"DIV",{class:!0});var ve=D(j);O=f(ve,"DIV",{class:!0});var be=D(O);q=f(be,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(q)!=="svelte-tyrfrg"&&(q.textContent=h),G=b(be),B=f(be,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),be.forEach(i),R=b(ve),m=f(ve,"DIV",{class:!0});var Ce=D(m);S=f(Ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(S)!=="svelte-1vw6fvm"&&(S.textContent=ne),$=b(Ce),g=f(Ce,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),Ce.forEach(i),ve.forEach(i),ke=b(o),Q=f(o,"BUTTON",{type:!0,class:!0});var Be=D(Q);fe=ie(Be,ae),Be.forEach(i),we=b(o),N&&N.l(o),o.forEach(i),ce=b(e),de=f(e,"HR",{}),pe=b(e),I&&I.l(e),ee=b(e),Z=f(e,"H2",{"data-svelte-h":!0}),F(Z)!=="svelte-uy9p0r"&&(Z.textContent=Ne),he=b(e),J=f(e,"TABLE",{class:!0});var Ee=D(J);te=f(Ee,"THEAD",{"data-svelte-h":!0}),F(te)!=="svelte-1isxlvj"&&(te.innerHTML=De),Ue=b(Ee),le=f(Ee,"TBODY",{});var Ie=D(le);for(let ge=0;ge<T.length;ge+=1)T[ge].l(Ie);Ie.forEach(i),Ee.forEach(i),me=b(e),P&&P.l(e),se=Ve(),this.h()},h(){a(t,"class","mt-3"),a(y,"for","name"),a(y,"class","form-label"),a(C,"type","text"),a(C,"id","name"),a(C,"class","form-control"),a(C,"placeholder","Enter user name"),a(c,"class","col"),a(k,"for","email"),a(k,"class","form-label"),a(U,"type","email"),a(U,"id","email"),a(U,"class","form-control"),a(U,"placeholder","Enter user email"),a(L,"class","col"),a(E,"class","row mb-3"),a(q,"for","password"),a(q,"class","form-label"),a(B,"type","password"),a(B,"id","password"),a(B,"class","form-control"),a(B,"placeholder","Enter user password"),a(O,"class","col"),a(S,"for","preferences"),a(S,"class","form-label"),a(g,"type","text"),a(g,"id","preferences"),a(g,"class","form-control"),a(g,"placeholder","e.g., Vegetarian, Fitness"),a(m,"class","col"),a(j,"class","row mb-3"),a(Q,"type","button"),a(Q,"class","btn btn-primary"),a(d,"class","mb-5"),a(J,"class","table")},m(e,o){w(e,t,o),w(e,r,o),A&&A.m(e,o),w(e,p,o),w(e,d,o),n(d,E),n(E,c),n(c,y),n(c,z),n(c,C),W(C,l[4].name),n(E,Y),n(E,L),n(L,k),n(L,K),n(L,U),W(U,l[4].email),n(d,M),n(d,j),n(j,O),n(O,q),n(O,G),n(O,B),W(B,l[4].password),n(j,R),n(j,m),n(m,S),n(m,$),n(m,g),W(g,l[4].preferences),n(d,ke),n(d,Q),n(Q,fe),n(d,we),N&&N.m(d,null),w(e,ce,o),w(e,de,o),w(e,pe,o),I&&I.m(e,o),w(e,ee,o),w(e,Z,o),w(e,he,o),w(e,J,o),n(J,te),n(J,Ue),n(J,le);for(let _=0;_<T.length;_+=1)T[_]&&T[_].m(le,null);w(e,me,o),P&&P.m(e,o),w(e,se,o),Te||(Le=[X(C,"input",l[9]),X(U,"input",l[10]),X(B,"input",l[11]),X(g,"input",l[12]),X(Q,"click",l[5])],Te=!0)},p(e,[o]){if(e[2]?A?A.p(e,o):(A=ze(e),A.c(),A.m(p.parentNode,p)):A&&(A.d(1),A=null),o&16&&C.value!==e[4].name&&W(C,e[4].name),o&16&&U.value!==e[4].email&&W(U,e[4].email),o&16&&B.value!==e[4].password&&W(B,e[4].password),o&16&&g.value!==e[4].preferences&&W(g,e[4].preferences),o&2&&ae!==(ae=e[1]?"Update User":"Add User")&&ue(fe,ae),e[1]?N?N.p(e,o):(N=je(e),N.c(),N.m(d,null)):N&&(N.d(1),N=null),e[3]?I||(I=Oe(),I.c(),I.m(ee.parentNode,ee)):I&&(I.d(1),I=null),o&193){re=He(e[0]);let _;for(_=0;_<re.length;_+=1){const x=Me(e,re,_);T[_]?T[_].p(x,o):(T[_]=qe(x),T[_].c(),T[_].m(le,null))}for(;_<T.length;_+=1)T[_].d(1);T.length=re.length}e[0].length===0&&!e[3]?P||(P=Fe(),P.c(),P.m(se.parentNode,se)):P&&(P.d(1),P=null)},i:Ae,o:Ae,d(e){e&&(i(t),i(r),i(p),i(d),i(ce),i(de),i(pe),i(ee),i(Z),i(he),i(J),i(me),i(se)),A&&A.d(e),N&&N.d(),I&&I.d(e),Ke(T,e),P&&P.d(e),Te=!1,Re(Le)}}}function Ze(l,t,s){let r,p;Pe(l,Qe,h=>s(15,r=h)),Pe(l,We,h=>s(16,p=h));const d=`${p.url.origin}/api`;let E=[],c={name:"",email:"",password:"",preferences:""},y=null,V="",z=!1;async function C(){s(3,z=!0),s(2,V="");try{const h=await ye.get(d,{headers:{Authorization:"Bearer "+r}});s(0,E=h.data)}catch(h){s(2,V="Could not fetch users."),console.error("Error fetching users:",h)}finally{s(3,z=!1)}}async function Y(){if(!c.name||!c.email){s(2,V="Name and Email are required.");return}try{y?(await ye.put(`${d}/${y}`,c,{headers:{Authorization:"Bearer "+r}}),alert("User updated successfully.")):(await ye.post(d,c,{headers:{Authorization:"Bearer "+r}}),alert("User added successfully.")),H(),C()}catch(h){s(2,V="Could not save user."),console.error("Error saving user:",h)}}async function L(h){try{await ye.delete(`${d}/${h}`,{headers:{Authorization:"Bearer "+r}}),alert("User deleted successfully."),C()}catch(G){s(2,V="Could not delete user."),console.error("Error deleting user:",G)}}function k(h){const G=E.find(B=>B.id===h);G&&(s(4,c={...G}),s(1,y=h))}function H(){s(4,c={name:"",email:"",password:"",preferences:""}),s(1,y=null),s(2,V="")}Ye(()=>{C()});function K(){c.name=this.value,s(4,c)}function U(){c.email=this.value,s(4,c)}function M(){c.password=this.value,s(4,c)}function j(){c.preferences=this.value,s(4,c)}return[E,y,V,z,c,Y,L,k,H,K,U,M,j,h=>k(h.id),h=>L(h.id)]}class rt extends Ge{constructor(t){super(),Je(this,t,Ze,Xe,Se,{})}}export{rt as component};
//# sourceMappingURL=8.BwJQTOnd.js.map
