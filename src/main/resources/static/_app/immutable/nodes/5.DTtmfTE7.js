import{s as Z,n as q,c as $,o as ee,d as te,r as le}from"../chunks/scheduler.5jWEhooB.js";import{S as se,i as ne,b as g,s as I,e as H,c as v,g as j,h as N,a as m,d as h,u as oe,t as D,f as E,n as V,j as P,l as z,k as M,v as G,m as U,q as Y,o as A}from"../chunks/index.4BCV0MbB.js";import{e as O}from"../chunks/each.D6YF6ztN.js";import{j as ae,a as x}from"../chunks/axios.Ch7KMjJl.js";function J(c,e,t){const l=c.slice();return l[10]=e[t],l}function K(c,e,t){const l=c.slice();return l[13]=e[t],l}function re(c){let e,t,l,o="Select a Meal Plan",f,n,s,r,i,C,y,w,b,p=c[4]&&Q(c),L=O(c[0]),_=[];for(let a=0;a<L.length;a+=1)_[a]=R(K(c,L,a));function F(a,d){return a[2].length>0?fe:ce}let T=F(c),k=T(c);return{c(){p&&p.c(),e=I(),t=g("div"),l=g("label"),l.textContent=o,f=I(),n=g("select"),s=g("option"),r=D("Choose a Meal Plan");for(let a=0;a<_.length;a+=1)_[a].c();C=I(),k.c(),y=H(),this.h()},l(a){p&&p.l(a),e=N(a),t=v(a,"DIV",{class:!0});var d=E(t);l=v(d,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1wi81qg"&&(l.textContent=o),f=N(d),n=v(d,"SELECT",{id:!0,class:!0});var u=E(n);s=v(u,"OPTION",{});var S=E(s);r=V(S,"Choose a Meal Plan"),S.forEach(h);for(let B=0;B<_.length;B+=1)_[B].l(u);u.forEach(h),d.forEach(h),C=N(a),k.l(a),y=H(),this.h()},h(){P(l,"for","mealPlanSelector"),P(l,"class","form-label"),s.__value="",z(s,s.__value),s.disabled=!0,s.selected=i=c[1]===null,P(n,"id","mealPlanSelector"),P(n,"class","form-select"),c[1]===void 0&&te(()=>c[6].call(n)),P(t,"class","mb-4")},m(a,d){p&&p.m(a,d),m(a,e,d),m(a,t,d),M(t,l),M(t,f),M(t,n),M(n,s),M(s,r);for(let u=0;u<_.length;u+=1)_[u]&&_[u].m(n,null);G(n,c[1],!0),m(a,C,d),k.m(a,d),m(a,y,d),w||(b=[U(n,"change",c[6]),U(n,"change",c[7])],w=!0)},p(a,d){if(a[4]?p?p.p(a,d):(p=Q(a),p.c(),p.m(e.parentNode,e)):p&&(p.d(1),p=null),d&3&&i!==(i=a[1]===null)&&(s.selected=i),d&1){L=O(a[0]);let u;for(u=0;u<L.length;u+=1){const S=K(a,L,u);_[u]?_[u].p(S,d):(_[u]=R(S),_[u].c(),_[u].m(n,null))}for(;u<_.length;u+=1)_[u].d(1);_.length=L.length}d&3&&G(n,a[1]),T===(T=F(a))&&k?k.p(a,d):(k.d(1),k=T(a),k&&(k.c(),k.m(y.parentNode,y)))},d(a){a&&(h(e),h(t),h(C),h(y)),p&&p.d(a),Y(_,a),k.d(a),w=!1,le(b)}}}function ie(c){let e,t='<span class="visually-hidden">Loading...</span>';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),j(e)!=="svelte-37zvkm"&&(e.innerHTML=t),this.h()},h(){P(e,"class","spinner-border text-primary"),P(e,"role","status")},m(l,o){m(l,e,o)},p:q,d(l){l&&h(e)}}}function Q(c){let e,t;return{c(){e=g("div"),t=D(c[4]),this.h()},l(l){e=v(l,"DIV",{class:!0});var o=E(e);t=V(o,c[4]),o.forEach(h),this.h()},h(){P(e,"class","alert alert-danger")},m(l,o){m(l,e,o),M(e,t)},p(l,o){o&16&&A(t,l[4])},d(l){l&&h(e)}}}function R(c){let e,t=c[13].name+"",l,o;return{c(){e=g("option"),l=D(t),this.h()},l(f){e=v(f,"OPTION",{});var n=E(e);l=V(n,t),n.forEach(h),this.h()},h(){e.__value=o=c[13]._id,z(e,e.__value)},m(f,n){m(f,e,n),M(e,l)},p(f,n){n&1&&t!==(t=f[13].name+"")&&A(l,t),n&1&&o!==(o=f[13]._id)&&(e.__value=o,z(e,e.__value))},d(f){f&&h(e)}}}function ce(c){let e,t="No ingredients found for the selected Meal Plan.";return{c(){e=g("p"),e.textContent=t},l(l){e=v(l,"P",{"data-svelte-h":!0}),j(e)!=="svelte-h99nsc"&&(e.textContent=t)},m(l,o){m(l,e,o)},p:q,d(l){l&&h(e)}}}function fe(c){let e,t="Shopping List",l,o,f=O(c[2]),n=[];for(let s=0;s<f.length;s+=1)n[s]=W(J(c,f,s));return{c(){e=g("h2"),e.textContent=t,l=I(),o=g("ul");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=v(s,"H2",{"data-svelte-h":!0}),j(e)!=="svelte-1q4e96i"&&(e.textContent=t),l=N(s),o=v(s,"UL",{class:!0});var r=E(o);for(let i=0;i<n.length;i+=1)n[i].l(r);r.forEach(h),this.h()},h(){P(o,"class","list-group")},m(s,r){m(s,e,r),m(s,l,r),m(s,o,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(o,null)},p(s,r){if(r&4){f=O(s[2]);let i;for(i=0;i<f.length;i+=1){const C=J(s,f,i);n[i]?n[i].p(C,r):(n[i]=W(C),n[i].c(),n[i].m(o,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=f.length}},d(s){s&&(h(e),h(l),h(o)),Y(n,s)}}}function W(c){let e,t=c[10]+"",l;return{c(){e=g("li"),l=D(t),this.h()},l(o){e=v(o,"LI",{class:!0});var f=E(e);l=V(f,t),f.forEach(h),this.h()},h(){P(e,"class","list-group-item")},m(o,f){m(o,e,f),M(e,l)},p(o,f){f&4&&t!==(t=o[10]+"")&&A(l,t)},d(o){o&&h(e)}}}function _e(c){let e,t="Shopping List Generator",l,o;function f(r,i){return r[3]?ie:re}let n=f(c),s=n(c);return{c(){e=g("h1"),e.textContent=t,l=I(),s.c(),o=H()},l(r){e=v(r,"H1",{"data-svelte-h":!0}),j(e)!=="svelte-uh4jrx"&&(e.textContent=t),l=N(r),s.l(r),o=H()},m(r,i){m(r,e,i),m(r,l,i),s.m(r,i),m(r,o,i)},p(r,[i]){n===(n=f(r))&&s?s.p(r,i):(s.d(1),s=n(r),s&&(s.c(),s.m(o.parentNode,o)))},i:q,o:q,d(r){r&&(h(e),h(l),h(o)),s.d(r)}}}const X="http://localhost:8080/api";function he(c,e,t){let l;$(c,ae,b=>t(8,l=b));let o=[],f=null,n=[],s=!1,r="";async function i(){t(3,s=!0),t(4,r="");try{const b=await x.get(`${X}/mealplan`);""+l,t(0,o=b.data),console.log("Fetched meal plans:",o)}catch(b){t(4,r="Could not fetch meal plans."),console.error(b)}finally{t(3,s=!1)}}async function C(b){var p,L;if(!b){t(4,r="Please select a valid Meal Plan.");return}t(3,s=!0),t(2,n=[]),t(4,r="");try{const _=await x.get(`${X}/shoppinglist/generate/${b}`);t(2,n=_.data||[])}catch(_){t(4,r=((L=(p=_.response)==null?void 0:p.data)==null?void 0:L.message)||"Could not fetch the shopping list."),console.error(_)}finally{t(3,s=!1)}}ee(()=>{i()});function y(){f=oe(this),t(1,f),t(0,o)}return[o,f,n,s,r,C,y,()=>{f&&C(f)}]}class ge extends se{constructor(e){super(),ne(this,e,he,_e,Z,{})}}export{ge as component};
//# sourceMappingURL=5.DTtmfTE7.js.map
