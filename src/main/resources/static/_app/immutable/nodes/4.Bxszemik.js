import{s as be,n as de,r as ge,o as Ce}from"../chunks/scheduler.5jWEhooB.js";import{S as Ee,i as Te,b as r,s as y,c as o,g as P,h as I,f as x,d as u,j as s,a as H,k as t,l as F,m as Q,r as ve,q as ye,t as te,n as le,o as ne}from"../chunks/index.4BCV0MbB.js";import{e as fe}from"../chunks/each.D6YF6ztN.js";import{a as pe}from"../chunks/axios.CCb-kr4I.js";import"../chunks/store.CNL4ACSx.js";function he(d,n,m){const _=d.slice();return _[1]=n[m],_}function me(d){let n,m,_=d[1].name+"",l,g,v,b=(d[1].ingredients?d[1].ingredients.join(", "):"")+"",k,R,i,C=d[1].calories+"",f,D;return{c(){n=r("tr"),m=r("td"),l=te(_),g=y(),v=r("td"),k=te(b),R=y(),i=r("td"),f=te(C),D=y()},l(E){n=o(E,"TR",{});var p=x(n);m=o(p,"TD",{});var T=x(m);l=le(T,_),T.forEach(u),g=I(p),v=o(p,"TD",{});var U=x(v);k=le(U,b),U.forEach(u),R=I(p),i=o(p,"TD",{});var w=x(i);f=le(w,C),w.forEach(u),D=I(p),p.forEach(u)},m(E,p){H(E,n,p),t(n,m),t(m,l),t(n,g),t(n,v),t(v,k),t(n,R),t(n,i),t(i,f),t(n,D)},p(E,p){p&1&&_!==(_=E[1].name+"")&&ne(l,_),p&1&&b!==(b=(E[1].ingredients?E[1].ingredients.join(", "):"")+"")&&ne(k,b),p&1&&C!==(C=E[1].calories+"")&&ne(f,C)},d(E){E&&u(n)}}}function Ie(d){let n,m="Create Recipe",_,l,g,v,b,k="Name",R,i,C,f,D,E="Ingredients (comma-separated)",p,T,U,w,N,j,se="Calories",W,L,X,A,ae="Submit",Y,V,re="All Recipes",z,B,q,oe='<tr><th scope="col">Name</th> <th scope="col">Ingredients</th> <th scope="col">Calories</th></tr>',Z,O,$,ie,S=fe(d[0]),h=[];for(let e=0;e<S.length;e+=1)h[e]=me(he(d,S,e));return{c(){n=r("h1"),n.textContent=m,_=y(),l=r("form"),g=r("div"),v=r("div"),b=r("label"),b.textContent=k,R=y(),i=r("input"),C=y(),f=r("div"),D=r("label"),D.textContent=E,p=y(),T=r("input"),U=y(),w=r("div"),N=r("div"),j=r("label"),j.textContent=se,W=y(),L=r("input"),X=y(),A=r("button"),A.textContent=ae,Y=y(),V=r("h1"),V.textContent=re,z=y(),B=r("table"),q=r("thead"),q.innerHTML=oe,Z=y(),O=r("tbody");for(let e=0;e<h.length;e+=1)h[e].c();this.h()},l(e){n=o(e,"H1",{class:!0,"data-svelte-h":!0}),P(n)!=="svelte-1ww3ady"&&(n.textContent=m),_=I(e),l=o(e,"FORM",{class:!0});var c=x(l);g=o(c,"DIV",{class:!0});var a=x(g);v=o(a,"DIV",{class:!0});var M=x(v);b=o(M,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),P(b)!=="svelte-15kbfjq"&&(b.textContent=k),R=I(M),i=o(M,"INPUT",{class:!0,id:!0,type:!0}),M.forEach(u),C=I(a),f=o(a,"DIV",{class:!0});var G=x(f);D=o(G,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),P(D)!=="svelte-1mkxfia"&&(D.textContent=E),p=I(G),T=o(G,"INPUT",{class:!0,id:!0,type:!0}),G.forEach(u),a.forEach(u),U=I(c),w=o(c,"DIV",{class:!0});var ce=x(w);N=o(ce,"DIV",{class:!0});var J=x(N);j=o(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),P(j)!=="svelte-1phwgci"&&(j.textContent=se),W=I(J),L=o(J,"INPUT",{class:!0,id:!0,type:!0}),J.forEach(u),ce.forEach(u),X=I(c),A=o(c,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),P(A)!=="svelte-8kdewn"&&(A.textContent=ae),c.forEach(u),Y=I(e),V=o(e,"H1",{"data-svelte-h":!0}),P(V)!=="svelte-9hymne"&&(V.textContent=re),z=I(e),B=o(e,"TABLE",{class:!0});var K=x(B);q=o(K,"THEAD",{"data-svelte-h":!0}),P(q)!=="svelte-120t2na"&&(q.innerHTML=oe),Z=I(K),O=o(K,"TBODY",{});var ue=x(O);for(let ee=0;ee<h.length;ee+=1)h[ee].l(ue);ue.forEach(u),K.forEach(u),this.h()},h(){s(n,"class","mt-3"),s(b,"class","form-label"),s(b,"for","name"),s(i,"class","form-control"),s(i,"id","name"),s(i,"type","text"),s(v,"class","col"),s(D,"class","form-label"),s(D,"for","ingredients"),s(T,"class","form-control"),s(T,"id","ingredients"),s(T,"type","text"),s(f,"class","col"),s(g,"class","row mb-3"),s(j,"class","form-label"),s(j,"for","calories"),s(L,"class","form-control"),s(L,"id","calories"),s(L,"type","number"),s(N,"class","col"),s(w,"class","row mb-3"),s(A,"type","button"),s(A,"class","btn btn-primary"),s(l,"class","mb-5"),s(B,"class","table")},m(e,c){H(e,n,c),H(e,_,c),H(e,l,c),t(l,g),t(g,v),t(v,b),t(v,R),t(v,i),F(i,d[1].name),t(g,C),t(g,f),t(f,D),t(f,p),t(f,T),F(T,d[1].ingredients),t(l,U),t(l,w),t(w,N),t(N,j),t(N,W),t(N,L),F(L,d[1].calories),t(l,X),t(l,A),H(e,Y,c),H(e,V,c),H(e,z,c),H(e,B,c),t(B,q),t(B,Z),t(B,O);for(let a=0;a<h.length;a+=1)h[a]&&h[a].m(O,null);$||(ie=[Q(i,"input",d[3]),Q(T,"input",d[4]),Q(L,"input",d[5]),Q(A,"click",d[2])],$=!0)},p(e,[c]){if(c&2&&i.value!==e[1].name&&F(i,e[1].name),c&2&&T.value!==e[1].ingredients&&F(T,e[1].ingredients),c&2&&ve(L.value)!==e[1].calories&&F(L,e[1].calories),c&1){S=fe(e[0]);let a;for(a=0;a<S.length;a+=1){const M=he(e,S,a);h[a]?h[a].p(M,c):(h[a]=me(M),h[a].c(),h[a].m(O,null))}for(;a<h.length;a+=1)h[a].d(1);h.length=S.length}},i:de,o:de,d(e){e&&(u(n),u(_),u(l),u(Y),u(V),u(z),u(B)),ye(h,e),$=!1,ge(ie)}}}const _e="http://localhost:8080/api";function De(d,n,m){let _=[],l={name:null,ingredients:null,calories:null};Ce(()=>{g()});function g(){var i={method:"get",url:_e+"/recipe",headers:{}};pe(i).then(function(C){m(0,_=C.data)}).catch(function(C){alert("Could not fetch recipe"),console.log(C)})}function v(){const i=l.ingredients?l.ingredients.split(",").map(f=>f.trim()):[],C={name:l.name||"",ingredients:i,calories:parseInt(l.calories,10)||0};pe.post(_e+"/recipe",C,{headers:{"Content-Type":"application/json"}}).then(function(f){alert("Recipe created successfully"),m(1,l={name:"",ingredients:"",calories:""}),g()}).catch(function(f){alert("Could not create recipe"),console.error("Error:",f)})}function b(){l.name=this.value,m(1,l)}function k(){l.ingredients=this.value,m(1,l)}function R(){l.calories=ve(this.value),m(1,l)}return[_,l,v,b,k,R]}class Ae extends Ee{constructor(n){super(),Te(this,n,De,Ie,be,{})}}export{Ae as component};
//# sourceMappingURL=4.Bxszemik.js.map
