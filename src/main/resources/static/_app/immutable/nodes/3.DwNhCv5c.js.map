{"version":3,"file":"3.DwNhCv5c.js","sources":["../../../../../../src/routes/mealplan/+page.svelte"],"sourcesContent":["<script>\n    import axios from \"axios\";\n    import { onMount } from \"svelte\";\n  \n    const api_root = \"http://localhost:8080/mealplan\";\n  \n    let mealPlans = [];\n    let mealPlan = {\n      userId: null,\n      recipeId: null,\n      date: null\n    };\n    let selectedMealPlanId = null; // For edit functionality\n  \n    // Fetch all meal plans on mount\n    onMount(() => {\n      getMealPlans();\n    });\n  \n    // Get all meal plans\n    function getMealPlans() {\n      var config = {\n        method: \"get\",\n        url: api_root + \"/api/mealplan\",\n        headers: {},\n      };\n  \n      axios(config)\n        .then(function (response) {\n          mealPlans = response.data;\n        })\n        .catch(function (error) {\n          alert(\"Could not fetch meal plans\");\n          console.log(error);\n        });\n    }\n  \n    // Create or update a meal plan\n    function saveMealPlan() {\n      const method = selectedMealPlanId ? \"put\" : \"post\";\n      const url = selectedMealPlanId ? `${api_root}/api/mealplan/${selectedMealPlanId}` : api_root + \"/api/mealplan\";\n\n      var config = {\n        method: method,\n        url: url,\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        data: mealPlan,\n      };\n  \n      axios(config)\n        .then(function (response) {\n          alert(selectedMealPlanId ? \"Meal plan updated\" : \"Meal plan created\");\n          resetForm();\n          getMealPlans();\n        })\n        .catch(function (error) {\n          alert(\"Could not save meal plan\");\n          console.log(error);\n        });\n    }\n\n    // Edit a meal plan\n    function editMealPlan(id) {\n      const existingMealPlan = mealPlans.find(mp => mp.id === id);\n      if (existingMealPlan) {\n        mealPlan = { ...existingMealPlan };\n        selectedMealPlanId = id;\n      }\n    }\n\n    // Delete a meal plan\n    function deleteMealPlan(id) {\n      var config = {\n        method: \"delete\",\n        url: `${api_root}/api/mealplan/${id}`,\n        headers: {},\n      };\n\n      axios(config)\n        .then(function (response) {\n          alert(\"Meal plan deleted\");\n          getMealPlans();\n        })\n        .catch(function (error) {\n          alert(\"Could not delete meal plan\");\n          console.log(error);\n        });\n    }\n\n    // Reset the form\n    function resetForm() {\n      mealPlan = {\n        userId: null,\n        recipeId: null,\n        date: null\n      };\n      selectedMealPlanId = null;\n    }\n  </script>\n  \n  <h1 class=\"mt-3\">Create or Edit Meal Plan</h1>\n  <form class=\"mb-5\">\n    <div class=\"row mb-3\">\n      <div class=\"col\">\n        <label class=\"form-label\" for=\"userId\">User ID</label>\n        <input\n          bind:value={mealPlan.userId}\n          class=\"form-control\"\n          id=\"userId\"\n          type=\"text\"\n        />\n      </div>\n      <div class=\"col\">\n        <label class=\"form-label\" for=\"recipeId\">Recipe ID</label>\n        <input\n          bind:value={mealPlan.recipeId}\n          class=\"form-control\"\n          id=\"recipeId\"\n          type=\"text\"\n        />\n      </div>\n      <div class=\"col\">\n        <label class=\"form-label\" for=\"date\">Date</label>\n        <input\n          bind:value={mealPlan.date}\n          class=\"form-control\"\n          id=\"date\"\n          type=\"date\"\n        />\n      </div>\n    </div>\n    <button type=\"button\" class=\"btn btn-primary\" on:click={saveMealPlan}>\n      {selectedMealPlanId ? \"Update\" : \"Submit\"}\n    </button>\n    {#if selectedMealPlanId}\n      <button type=\"button\" class=\"btn btn-secondary\" on:click={resetForm}>\n        Cancel\n      </button>\n    {/if}\n  </form>\n  \n  <h1>All Meal Plans</h1>\n  <table class=\"table\">\n    <thead>\n      <tr>\n        <th scope=\"col\">User ID</th>\n        <th scope=\"col\">Recipe ID</th>\n        <th scope=\"col\">Date</th>\n        <th scope=\"col\">Actions</th>\n      </tr>\n    </thead>\n    <tbody>\n      {#each mealPlans as mealPlan}\n        <tr>\n          <td>{mealPlan.userId}</td>\n          <td>{mealPlan.recipeId}</td>\n          <td>{mealPlan.date}</td>\n          <td>\n            <button class=\"btn btn-warning btn-sm\" on:click={() => editMealPlan(mealPlan.id)}>\n              Edit\n            </button>\n            <button class=\"btn btn-danger btn-sm\" on:click={() => deleteMealPlan(mealPlan.id)}>\n              Delete\n            </button>\n          </td>\n        </tr>\n      {/each}\n    </tbody>\n  </table>\n"],"names":["insert_hydration","target","button","anchor","ctx","t0_value","t2_value","t4_value","tr","append_hydration","td0","td1","td2","td3","button0","button1","dirty","set_data","t0","t2","t4","create_if_block","i","h10","form","div3","div0","label0","input0","set_input_value","div1","label1","input1","div2","label2","input2","h11","table","thead","tbody","t11","t11_value","api_root","mealPlans","mealPlan","selectedMealPlanId","onMount","getMealPlans","config","axios","response","error","saveMealPlan","method","url","resetForm","editMealPlan","id","existingMealPlan","mp","$$invalidate","deleteMealPlan"],"mappings":"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"}