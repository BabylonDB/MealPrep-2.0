import{s as be,n as de,r as ge,c as Ce,o as Ee}from"../chunks/scheduler.5jWEhooB.js";import{S as Te,i as ye,b as r,s as I,c as o,g as P,h as k,f as D,d as c,j as s,a as H,k as t,l as z,m as Q,r as ve,q as Ie,t as te,n as le,o as ne}from"../chunks/index.4BCV0MbB.js";import{e as fe}from"../chunks/each.D6YF6ztN.js";import{a as pe,j as ke}from"../chunks/axios.Ch7KMjJl.js";function he(u,l,h){const g=u.slice();return g[1]=l[h],g}function me(u){let l,h,g=u[1].name+"",d,n,m,C=(u[1].ingredients?u[1].ingredients.join(", "):"")+"",x,L,p,E=u[1].calories+"",f,_;return{c(){l=r("tr"),h=r("td"),d=te(g),n=I(),m=r("td"),x=te(C),L=I(),p=r("td"),f=te(E),_=I()},l(T){l=o(T,"TR",{});var v=D(l);h=o(v,"TD",{});var y=D(h);d=le(y,g),y.forEach(c),n=k(v),m=o(v,"TD",{});var U=D(m);x=le(U,C),U.forEach(c),L=k(v),p=o(v,"TD",{});var j=D(p);f=le(j,E),j.forEach(c),_=k(v),v.forEach(c)},m(T,v){H(T,l,v),t(l,h),t(h,d),t(l,n),t(l,m),t(m,x),t(l,L),t(l,p),t(p,f),t(l,_)},p(T,v){v&1&&g!==(g=T[1].name+"")&&ne(d,g),v&1&&C!==(C=(T[1].ingredients?T[1].ingredients.join(", "):"")+"")&&ne(x,C),v&1&&E!==(E=T[1].calories+"")&&ne(f,E)},d(T){T&&c(l)}}}function De(u){let l,h="Create Recipe",g,d,n,m,C,x="Name",L,p,E,f,_,T="Ingredients (comma-separated)",v,y,U,j,B,N,se="Calories",W,w,X,R,ae="Submit",F,V,re="All Recipes",Y,A,q,oe='<tr><th scope="col">Name</th> <th scope="col">Ingredients</th> <th scope="col">Calories</th></tr>',Z,O,$,ie,S=fe(u[0]),b=[];for(let e=0;e<S.length;e+=1)b[e]=me(he(u,S,e));return{c(){l=r("h1"),l.textContent=h,g=I(),d=r("form"),n=r("div"),m=r("div"),C=r("label"),C.textContent=x,L=I(),p=r("input"),E=I(),f=r("div"),_=r("label"),_.textContent=T,v=I(),y=r("input"),U=I(),j=r("div"),B=r("div"),N=r("label"),N.textContent=se,W=I(),w=r("input"),X=I(),R=r("button"),R.textContent=ae,F=I(),V=r("h1"),V.textContent=re,Y=I(),A=r("table"),q=r("thead"),q.innerHTML=oe,Z=I(),O=r("tbody");for(let e=0;e<b.length;e+=1)b[e].c();this.h()},l(e){l=o(e,"H1",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1ww3ady"&&(l.textContent=h),g=k(e),d=o(e,"FORM",{class:!0});var i=D(d);n=o(i,"DIV",{class:!0});var a=D(n);m=o(a,"DIV",{class:!0});var M=D(m);C=o(M,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),P(C)!=="svelte-15kbfjq"&&(C.textContent=x),L=k(M),p=o(M,"INPUT",{class:!0,id:!0,type:!0}),M.forEach(c),E=k(a),f=o(a,"DIV",{class:!0});var G=D(f);_=o(G,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),P(_)!=="svelte-1mkxfia"&&(_.textContent=T),v=k(G),y=o(G,"INPUT",{class:!0,id:!0,type:!0}),G.forEach(c),a.forEach(c),U=k(i),j=o(i,"DIV",{class:!0});var ce=D(j);B=o(ce,"DIV",{class:!0});var J=D(B);N=o(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),P(N)!=="svelte-1phwgci"&&(N.textContent=se),W=k(J),w=o(J,"INPUT",{class:!0,id:!0,type:!0}),J.forEach(c),ce.forEach(c),X=k(i),R=o(i,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),P(R)!=="svelte-8kdewn"&&(R.textContent=ae),i.forEach(c),F=k(e),V=o(e,"H1",{"data-svelte-h":!0}),P(V)!=="svelte-9hymne"&&(V.textContent=re),Y=k(e),A=o(e,"TABLE",{class:!0});var K=D(A);q=o(K,"THEAD",{"data-svelte-h":!0}),P(q)!=="svelte-120t2na"&&(q.innerHTML=oe),Z=k(K),O=o(K,"TBODY",{});var ue=D(O);for(let ee=0;ee<b.length;ee+=1)b[ee].l(ue);ue.forEach(c),K.forEach(c),this.h()},h(){s(l,"class","mt-3"),s(C,"class","form-label"),s(C,"for","name"),s(p,"class","form-control"),s(p,"id","name"),s(p,"type","text"),s(m,"class","col"),s(_,"class","form-label"),s(_,"for","ingredients"),s(y,"class","form-control"),s(y,"id","ingredients"),s(y,"type","text"),s(f,"class","col"),s(n,"class","row mb-3"),s(N,"class","form-label"),s(N,"for","calories"),s(w,"class","form-control"),s(w,"id","calories"),s(w,"type","number"),s(B,"class","col"),s(j,"class","row mb-3"),s(R,"type","button"),s(R,"class","btn btn-primary"),s(d,"class","mb-5"),s(A,"class","table")},m(e,i){H(e,l,i),H(e,g,i),H(e,d,i),t(d,n),t(n,m),t(m,C),t(m,L),t(m,p),z(p,u[1].name),t(n,E),t(n,f),t(f,_),t(f,v),t(f,y),z(y,u[1].ingredients),t(d,U),t(d,j),t(j,B),t(B,N),t(B,W),t(B,w),z(w,u[1].calories),t(d,X),t(d,R),H(e,F,i),H(e,V,i),H(e,Y,i),H(e,A,i),t(A,q),t(A,Z),t(A,O);for(let a=0;a<b.length;a+=1)b[a]&&b[a].m(O,null);$||(ie=[Q(p,"input",u[3]),Q(y,"input",u[4]),Q(w,"input",u[5]),Q(R,"click",u[2])],$=!0)},p(e,[i]){if(i&2&&p.value!==e[1].name&&z(p,e[1].name),i&2&&y.value!==e[1].ingredients&&z(y,e[1].ingredients),i&2&&ve(w.value)!==e[1].calories&&z(w,e[1].calories),i&1){S=fe(e[0]);let a;for(a=0;a<S.length;a+=1){const M=he(e,S,a);b[a]?b[a].p(M,i):(b[a]=me(M),b[a].c(),b[a].m(O,null))}for(;a<b.length;a+=1)b[a].d(1);b.length=S.length}},i:de,o:de,d(e){e&&(c(l),c(g),c(d),c(F),c(V),c(Y),c(A)),Ie(b,e),$=!1,ge(ie)}}}const _e="http://localhost:8080/api";function we(u,l,h){let g;Ce(u,ke,E=>h(6,g=E));let d=[],n={name:null,ingredients:null,calories:null};Ee(()=>{m()});function m(){var E={method:"get",url:_e+"/recipe",headers:{Authorization:"Bearer "+g}};pe(E).then(function(f){h(0,d=f.data)}).catch(function(f){alert("Could not fetch recipe"),console.log(f)})}function C(){const E=n.ingredients?n.ingredients.split(",").map(_=>_.trim()):[],f={name:n.name||"",ingredients:E,calories:parseInt(n.calories,10)||0};pe.post(_e+"/recipe",f,{headers:{"Content-Type":"application/json"}}).then(function(_){alert("Recipe created successfully"),h(1,n={name:"",ingredients:"",calories:""}),m()}).catch(function(_){alert("Could not create recipe"),console.error("Error:",_)})}function x(){n.name=this.value,h(1,n)}function L(){n.ingredients=this.value,h(1,n)}function p(){n.calories=ve(this.value),h(1,n)}return[d,n,C,x,L,p]}class Ae extends Te{constructor(l){super(),ye(this,l,we,De,be,{})}}export{Ae as component};
//# sourceMappingURL=4.DSK2YZ5M.js.map
