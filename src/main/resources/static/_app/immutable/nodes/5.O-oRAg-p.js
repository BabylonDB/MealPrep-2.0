import{s as be,n as de,r as ge,c as Ce,o as Ee}from"../chunks/scheduler.KmlgN0bi.js";import{S as ye,i as Te,b as r,s as I,c as o,g as P,h as x,f as D,d as c,j as s,a as H,k as t,l as S,m as Q,r as ve,q as Ie,t as te,n as le,o as ne}from"../chunks/index.mX1UHVfl.js";import{e as fe}from"../chunks/each.D6YF6ztN.js";import{a as pe}from"../chunks/axios.CCb-kr4I.js";import{j as xe}from"../chunks/store.DX7lDXQD.js";function he(u,l,h){const m=u.slice();return m[1]=l[h],m}function me(u){let l,h,m=u[1].name+"",d,n,_,C=(u[1].ingredients?u[1].ingredients.join(", "):"")+"",L,j,p,E=u[1].calories+"",f,v;return{c(){l=r("tr"),h=r("td"),d=te(m),n=I(),_=r("td"),L=te(C),j=I(),p=r("td"),f=te(E),v=I()},l(y){l=o(y,"TR",{});var b=D(l);h=o(b,"TD",{});var T=D(h);d=le(T,m),T.forEach(c),n=x(b),_=o(b,"TD",{});var U=D(_);L=le(U,C),U.forEach(c),j=x(b),p=o(b,"TD",{});var w=D(p);f=le(w,E),w.forEach(c),v=x(b),b.forEach(c)},m(y,b){H(y,l,b),t(l,h),t(h,d),t(l,n),t(l,_),t(_,L),t(l,j),t(l,p),t(p,f),t(l,v)},p(y,b){b&1&&m!==(m=y[1].name+"")&&ne(d,m),b&1&&C!==(C=(y[1].ingredients?y[1].ingredients.join(", "):"")+"")&&ne(L,C),b&1&&E!==(E=y[1].calories+"")&&ne(f,E)},d(y){y&&c(l)}}}function De(u){let l,h="Create Recipe",m,d,n,_,C,L="Name",j,p,E,f,v,y="Ingredients (comma-separated)",b,T,U,w,R,N,se="Calories",W,k,X,A,ae="Submit",F,V,re="All Recipes",Y,B,q,oe='<tr><th scope="col">Name</th> <th scope="col">Ingredients</th> <th scope="col">Calories</th></tr>',Z,z,$,ie,O=fe(u[0]),g=[];for(let e=0;e<O.length;e+=1)g[e]=me(he(u,O,e));return{c(){l=r("h1"),l.textContent=h,m=I(),d=r("form"),n=r("div"),_=r("div"),C=r("label"),C.textContent=L,j=I(),p=r("input"),E=I(),f=r("div"),v=r("label"),v.textContent=y,b=I(),T=r("input"),U=I(),w=r("div"),R=r("div"),N=r("label"),N.textContent=se,W=I(),k=r("input"),X=I(),A=r("button"),A.textContent=ae,F=I(),V=r("h1"),V.textContent=re,Y=I(),B=r("table"),q=r("thead"),q.innerHTML=oe,Z=I(),z=r("tbody");for(let e=0;e<g.length;e+=1)g[e].c();this.h()},l(e){l=o(e,"H1",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1ww3ady"&&(l.textContent=h),m=x(e),d=o(e,"FORM",{class:!0});var i=D(d);n=o(i,"DIV",{class:!0});var a=D(n);_=o(a,"DIV",{class:!0});var M=D(_);C=o(M,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),P(C)!=="svelte-15kbfjq"&&(C.textContent=L),j=x(M),p=o(M,"INPUT",{class:!0,id:!0,type:!0}),M.forEach(c),E=x(a),f=o(a,"DIV",{class:!0});var G=D(f);v=o(G,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),P(v)!=="svelte-1mkxfia"&&(v.textContent=y),b=x(G),T=o(G,"INPUT",{class:!0,id:!0,type:!0}),G.forEach(c),a.forEach(c),U=x(i),w=o(i,"DIV",{class:!0});var ce=D(w);R=o(ce,"DIV",{class:!0});var J=D(R);N=o(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),P(N)!=="svelte-1phwgci"&&(N.textContent=se),W=x(J),k=o(J,"INPUT",{class:!0,id:!0,type:!0}),J.forEach(c),ce.forEach(c),X=x(i),A=o(i,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),P(A)!=="svelte-1pxyrzr"&&(A.textContent=ae),i.forEach(c),F=x(e),V=o(e,"H1",{"data-svelte-h":!0}),P(V)!=="svelte-9hymne"&&(V.textContent=re),Y=x(e),B=o(e,"TABLE",{class:!0});var K=D(B);q=o(K,"THEAD",{"data-svelte-h":!0}),P(q)!=="svelte-13sly1u"&&(q.innerHTML=oe),Z=x(K),z=o(K,"TBODY",{});var ue=D(z);for(let ee=0;ee<g.length;ee+=1)g[ee].l(ue);ue.forEach(c),K.forEach(c),this.h()},h(){s(l,"class","mt-3"),s(C,"class","form-label"),s(C,"for","name"),s(p,"class","form-control"),s(p,"id","name"),s(p,"type","text"),s(_,"class","col"),s(v,"class","form-label"),s(v,"for","ingredients"),s(T,"class","form-control"),s(T,"id","ingredients"),s(T,"type","text"),s(f,"class","col"),s(n,"class","row mb-3"),s(N,"class","form-label"),s(N,"for","calories"),s(k,"class","form-control"),s(k,"id","calories"),s(k,"type","number"),s(R,"class","col"),s(w,"class","row mb-3"),s(A,"type","button"),s(A,"class","btn btn-primary"),s(d,"class","mb-5"),s(B,"class","table")},m(e,i){H(e,l,i),H(e,m,i),H(e,d,i),t(d,n),t(n,_),t(_,C),t(_,j),t(_,p),S(p,u[1].name),t(n,E),t(n,f),t(f,v),t(f,b),t(f,T),S(T,u[1].ingredients),t(d,U),t(d,w),t(w,R),t(R,N),t(R,W),t(R,k),S(k,u[1].calories),t(d,X),t(d,A),H(e,F,i),H(e,V,i),H(e,Y,i),H(e,B,i),t(B,q),t(B,Z),t(B,z);for(let a=0;a<g.length;a+=1)g[a]&&g[a].m(z,null);$||(ie=[Q(p,"input",u[3]),Q(T,"input",u[4]),Q(k,"input",u[5]),Q(A,"click",u[2])],$=!0)},p(e,[i]){if(i&2&&p.value!==e[1].name&&S(p,e[1].name),i&2&&T.value!==e[1].ingredients&&S(T,e[1].ingredients),i&2&&ve(k.value)!==e[1].calories&&S(k,e[1].calories),i&1){O=fe(e[0]);let a;for(a=0;a<O.length;a+=1){const M=he(e,O,a);g[a]?g[a].p(M,i):(g[a]=me(M),g[a].c(),g[a].m(z,null))}for(;a<g.length;a+=1)g[a].d(1);g.length=O.length}},i:de,o:de,d(e){e&&(c(l),c(m),c(d),c(F),c(V),c(Y),c(B)),Ie(g,e),$=!1,ge(ie)}}}const _e="http://localhost:8080/api";function ke(u,l,h){let m;Ce(u,xe,E=>h(6,m=E));let d=[],n={name:null,ingredients:null,calories:null};Ee(()=>{_()});function _(){var E={method:"get",url:_e+"/recipe",headers:{Authorization:"Bearer "+m}};pe(E).then(function(f){h(0,d=f.data)}).catch(function(f){alert("Could not fetch recipe"),console.log(f)})}function C(){const E=n.ingredients?n.ingredients.split(",").map(v=>v.trim()):[],f={name:n.name||"",ingredients:E,calories:parseInt(n.calories,10)||0};pe.post(_e+"/recipe",f,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+m}}).then(function(v){alert("Recipe created successfully"),h(1,n={name:"",ingredients:"",calories:""}),_()}).catch(function(v){alert("Could not create recipe"),console.error("Error:",v)})}function L(){n.name=this.value,h(1,n)}function j(){n.ingredients=this.value,h(1,n)}function p(){n.calories=ve(this.value),h(1,n)}return[d,n,C,L,j,p]}class Re extends ye{constructor(l){super(),Te(this,l,ke,De,be,{})}}export{Re as component};
//# sourceMappingURL=5.O-oRAg-p.js.map
