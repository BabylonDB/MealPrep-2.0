{"version":3,"file":"3.DPehxY4z.js","sources":["../../../../../../src/routes/mealplan/+page.svelte"],"sourcesContent":["<script>\r\n    import axios from \"axios\";\r\n    import { onMount } from \"svelte\";\r\n  \r\n    const api_root = \"http://localhost:8080/mealplan\";\r\n  \r\n    let mealPlans = [];\r\n    let mealPlan = {\r\n      userId: null,\r\n      recipeId: null,\r\n      date: null\r\n    };\r\n    let selectedMealPlanId = null; // For edit functionality\r\n  \r\n    // Fetch all meal plans on mount\r\n    onMount(() => {\r\n      getMealPlans();\r\n    });\r\n  \r\n    // Get all meal plans\r\n    function getMealPlans() {\r\n      var config = {\r\n        method: \"get\",\r\n        url: api_root + \"/api/mealplan\",\r\n        headers: {},\r\n      };\r\n  \r\n      axios(config)\r\n        .then(function (response) {\r\n          mealPlans = response.data;\r\n        })\r\n        .catch(function (error) {\r\n          alert(\"Could not fetch meal plans\");\r\n          console.log(error);\r\n        });\r\n    }\r\n  \r\n    // Create or update a meal plan\r\n    function saveMealPlan() {\r\n      const method = selectedMealPlanId ? \"put\" : \"post\";\r\n      const url = selectedMealPlanId ? `${api_root}/api/mealplan/${selectedMealPlanId}` : api_root + \"/api/mealplan\";\r\n\r\n      var config = {\r\n        method: method,\r\n        url: url,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        data: mealPlan,\r\n      };\r\n  \r\n      axios(config)\r\n        .then(function (response) {\r\n          alert(selectedMealPlanId ? \"Meal plan updated\" : \"Meal plan created\");\r\n          resetForm();\r\n          getMealPlans();\r\n        })\r\n        .catch(function (error) {\r\n          alert(\"Could not save meal plan\");\r\n          console.log(error);\r\n        });\r\n    }\r\n\r\n    // Edit a meal plan\r\n    function editMealPlan(id) {\r\n      const existingMealPlan = mealPlans.find(mp => mp.id === id);\r\n      if (existingMealPlan) {\r\n        mealPlan = { ...existingMealPlan };\r\n        selectedMealPlanId = id;\r\n      }\r\n    }\r\n\r\n    // Delete a meal plan\r\n    function deleteMealPlan(id) {\r\n      var config = {\r\n        method: \"delete\",\r\n        url: `${api_root}/api/mealplan/${id}`,\r\n        headers: {},\r\n      };\r\n\r\n      axios(config)\r\n        .then(function (response) {\r\n          alert(\"Meal plan deleted\");\r\n          getMealPlans();\r\n        })\r\n        .catch(function (error) {\r\n          alert(\"Could not delete meal plan\");\r\n          console.log(error);\r\n        });\r\n    }\r\n\r\n    // Reset the form\r\n    function resetForm() {\r\n      mealPlan = {\r\n        userId: null,\r\n        recipeId: null,\r\n        date: null\r\n      };\r\n      selectedMealPlanId = null;\r\n    }\r\n  </script>\r\n  \r\n  <h1 class=\"mt-3\">Create or Edit Meal Plan</h1>\r\n  <form class=\"mb-5\">\r\n    <div class=\"row mb-3\">\r\n      <div class=\"col\">\r\n        <label class=\"form-label\" for=\"userId\">User ID</label>\r\n        <input\r\n          bind:value={mealPlan.userId}\r\n          class=\"form-control\"\r\n          id=\"userId\"\r\n          type=\"text\"\r\n        />\r\n      </div>\r\n      <div class=\"col\">\r\n        <label class=\"form-label\" for=\"recipeId\">Recipe ID</label>\r\n        <input\r\n          bind:value={mealPlan.recipeId}\r\n          class=\"form-control\"\r\n          id=\"recipeId\"\r\n          type=\"text\"\r\n        />\r\n      </div>\r\n      <div class=\"col\">\r\n        <label class=\"form-label\" for=\"date\">Date</label>\r\n        <input\r\n          bind:value={mealPlan.date}\r\n          class=\"form-control\"\r\n          id=\"date\"\r\n          type=\"date\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <button type=\"button\" class=\"btn btn-primary\" on:click={saveMealPlan}>\r\n      {selectedMealPlanId ? \"Update\" : \"Submit\"}\r\n    </button>\r\n    {#if selectedMealPlanId}\r\n      <button type=\"button\" class=\"btn btn-secondary\" on:click={resetForm}>\r\n        Cancel\r\n      </button>\r\n    {/if}\r\n  </form>\r\n  \r\n  <h1>All Meal Plans</h1>\r\n  <table class=\"table\">\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\">User ID</th>\r\n        <th scope=\"col\">Recipe ID</th>\r\n        <th scope=\"col\">Date</th>\r\n        <th scope=\"col\">Actions</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {#each mealPlans as mealPlan}\r\n        <tr>\r\n          <td>{mealPlan.userId}</td>\r\n          <td>{mealPlan.recipeId}</td>\r\n          <td>{mealPlan.date}</td>\r\n          <td>\r\n            <button class=\"btn btn-warning btn-sm\" on:click={() => editMealPlan(mealPlan.id)}>\r\n              Edit\r\n            </button>\r\n            <button class=\"btn btn-danger btn-sm\" on:click={() => deleteMealPlan(mealPlan.id)}>\r\n              Delete\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      {/each}\r\n    </tbody>\r\n  </table>\r\n"],"names":["insert_hydration","target","button","anchor","ctx","t0_value","t2_value","t4_value","tr","append_hydration","td0","td1","td2","td3","button0","button1","dirty","set_data","t0","t2","t4","create_if_block","i","h10","form","div3","div0","label0","input0","set_input_value","div1","label1","input1","div2","label2","input2","h11","table","thead","tbody","t11","t11_value","api_root","mealPlans","mealPlan","selectedMealPlanId","onMount","getMealPlans","config","axios","response","error","saveMealPlan","method","url","resetForm","editMealPlan","id","existingMealPlan","mp","$$invalidate","deleteMealPlan"],"mappings":"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"}