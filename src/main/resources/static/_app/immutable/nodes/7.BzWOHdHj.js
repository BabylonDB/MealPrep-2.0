import{s as Se,n as Le,r as Fe,c as Ye,o as Ge}from"../chunks/scheduler.5jWEhooB.js";import{S as Je,i as Ke,b as f,s as v,t as oe,e as He,c,g as q,h as b,f as A,d as u,n as ie,j as n,a as k,k as r,l as K,m as Q,o as ue,q as Qe}from"../chunks/index.4BCV0MbB.js";import{e as Me}from"../chunks/each.D6YF6ztN.js";import{j as We,a as ye}from"../chunks/axios.Ch7KMjJl.js";function Ve(l,t,s){const a=l.slice();return a[4]=t[s],a}function Oe(l){let t,s;return{c(){t=f("div"),s=oe(l[2]),this.h()},l(a){t=c(a,"DIV",{class:!0});var o=A(t);s=ie(o,l[2]),o.forEach(u),this.h()},h(){n(t,"class","alert alert-danger")},m(a,o){k(a,t,o),r(t,s)},p(a,o){o&4&&ue(s,a[2])},d(a){a&&u(t)}}}function je(l){let t,s="Cancel",a,o;return{c(){t=f("button"),t.textContent=s,this.h()},l(d){t=c(d,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),q(t)!=="svelte-1jw19kd"&&(t.textContent=s),this.h()},h(){n(t,"type","button"),n(t,"class","btn btn-secondary ms-2")},m(d,h){k(d,t,h),a||(o=Q(t,"click",l[8]),a=!0)},p:Le,d(d){d&&u(t),a=!1,o()}}}function qe(l){let t,s='<span class="visually-hidden">Loading...</span>';return{c(){t=f("div"),t.innerHTML=s,this.h()},l(a){t=c(a,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),q(t)!=="svelte-gq0gie"&&(t.innerHTML=s),this.h()},h(){n(t,"class","spinner-border text-primary"),n(t,"role","status")},m(a,o){k(a,t,o)},d(a){a&&u(t)}}}function ze(l){let t,s,a=l[4].name+"",o,d,h,E=l[4].email+"",w,Y,j,C=(l[4].preferences||"N/A")+"",z,P,y,M,G="Edit",N,V,p="Delete",U,H,se;function re(){return l[13](l[4])}function O(){return l[14](l[4])}return{c(){t=f("tr"),s=f("td"),o=oe(a),d=v(),h=f("td"),w=oe(E),Y=v(),j=f("td"),z=oe(C),P=v(),y=f("td"),M=f("button"),M.textContent=G,N=v(),V=f("button"),V.textContent=p,U=v(),this.h()},l(R){t=c(R,"TR",{});var m=A(t);s=c(m,"TD",{});var F=A(s);o=ie(F,a),F.forEach(u),d=b(m),h=c(m,"TD",{});var ne=A(h);w=ie(ne,E),ne.forEach(u),Y=b(m),j=c(m,"TD",{});var Z=A(j);z=ie(Z,C),Z.forEach(u),P=b(m),y=c(m,"TD",{});var D=A(y);M=c(D,"BUTTON",{class:!0,"data-svelte-h":!0}),q(M)!=="svelte-iiwyyv"&&(M.textContent=G),N=b(D),V=c(D,"BUTTON",{class:!0,"data-svelte-h":!0}),q(V)!=="svelte-1irvc8p"&&(V.textContent=p),D.forEach(u),U=b(m),m.forEach(u),this.h()},h(){n(M,"class","btn btn-warning btn-sm"),n(V,"class","btn btn-danger btn-sm ms-2")},m(R,m){k(R,t,m),r(t,s),r(s,o),r(t,d),r(t,h),r(h,w),r(t,Y),r(t,j),r(j,z),r(t,P),r(t,y),r(y,M),r(y,N),r(y,V),r(t,U),H||(se=[Q(M,"click",re),Q(V,"click",O)],H=!0)},p(R,m){l=R,m&1&&a!==(a=l[4].name+"")&&ue(o,a),m&1&&E!==(E=l[4].email+"")&&ue(w,E),m&1&&C!==(C=(l[4].preferences||"N/A")+"")&&ue(z,C)},d(R){R&&u(t),H=!1,Fe(se)}}}function Re(l){let t,s="No users available.";return{c(){t=f("p"),t.textContent=s},l(a){t=c(a,"P",{"data-svelte-h":!0}),q(t)!=="svelte-1hgwweq"&&(t.textContent=s)},m(a,o){k(a,t,o)},d(a){a&&u(t)}}}function Xe(l){let t,s="User Management",a,o,d,h,E,w,Y="Name",j,C,z,P,y,M="Email",G,N,V,p,U,H,se="Password",re,O,R,m,F,ne="Preferences",Z,D,we,J,ae=l[1]?"Update User":"Add User",fe,Ue,ce,de,pe,x,W,ge="All Users",he,S,$,Ae="<tr><th>Name</th> <th>Email</th> <th>Preferences</th> <th>Actions</th></tr>",Te,ee,me,te,Ne,Ie,L=l[2]&&Oe(l),g=l[1]&&je(l),I=l[3]&&qe(),le=Me(l[0]),T=[];for(let e=0;e<le.length;e+=1)T[e]=ze(Ve(l,le,e));let B=l[0].length===0&&!l[3]&&Re();return{c(){t=f("h1"),t.textContent=s,a=v(),L&&L.c(),o=v(),d=f("form"),h=f("div"),E=f("div"),w=f("label"),w.textContent=Y,j=v(),C=f("input"),z=v(),P=f("div"),y=f("label"),y.textContent=M,G=v(),N=f("input"),V=v(),p=f("div"),U=f("div"),H=f("label"),H.textContent=se,re=v(),O=f("input"),R=v(),m=f("div"),F=f("label"),F.textContent=ne,Z=v(),D=f("input"),we=v(),J=f("button"),fe=oe(ae),Ue=v(),g&&g.c(),ce=v(),de=f("hr"),pe=v(),I&&I.c(),x=v(),W=f("h2"),W.textContent=ge,he=v(),S=f("table"),$=f("thead"),$.innerHTML=Ae,Te=v(),ee=f("tbody");for(let e=0;e<T.length;e+=1)T[e].c();me=v(),B&&B.c(),te=He(),this.h()},l(e){t=c(e,"H1",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-9mzzxm"&&(t.textContent=s),a=b(e),L&&L.l(e),o=b(e),d=c(e,"FORM",{class:!0});var i=A(d);h=c(i,"DIV",{class:!0});var _=A(h);E=c(_,"DIV",{class:!0});var X=A(E);w=c(X,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(w)!=="svelte-17mpp60"&&(w.textContent=Y),j=b(X),C=c(X,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),X.forEach(u),z=b(_),P=c(_,"DIV",{class:!0});var _e=A(P);y=c(_e,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(y)!=="svelte-7zanfm"&&(y.textContent=M),G=b(_e),N=c(_e,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),_e.forEach(u),_.forEach(u),V=b(i),p=c(i,"DIV",{class:!0});var ve=A(p);U=c(ve,"DIV",{class:!0});var be=A(U);H=c(be,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(H)!=="svelte-tyrfrg"&&(H.textContent=se),re=b(be),O=c(be,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),be.forEach(u),R=b(ve),m=c(ve,"DIV",{class:!0});var Ce=A(m);F=c(Ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(F)!=="svelte-1vw6fvm"&&(F.textContent=ne),Z=b(Ce),D=c(Ce,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),Ce.forEach(u),ve.forEach(u),we=b(i),J=c(i,"BUTTON",{type:!0,class:!0});var Be=A(J);fe=ie(Be,ae),Be.forEach(u),Ue=b(i),g&&g.l(i),i.forEach(u),ce=b(e),de=c(e,"HR",{}),pe=b(e),I&&I.l(e),x=b(e),W=c(e,"H2",{"data-svelte-h":!0}),q(W)!=="svelte-uy9p0r"&&(W.textContent=ge),he=b(e),S=c(e,"TABLE",{class:!0});var Ee=A(S);$=c(Ee,"THEAD",{"data-svelte-h":!0}),q($)!=="svelte-1isxlvj"&&($.innerHTML=Ae),Te=b(Ee),ee=c(Ee,"TBODY",{});var Pe=A(ee);for(let De=0;De<T.length;De+=1)T[De].l(Pe);Pe.forEach(u),Ee.forEach(u),me=b(e),B&&B.l(e),te=He(),this.h()},h(){n(t,"class","mt-3"),n(w,"for","name"),n(w,"class","form-label"),n(C,"type","text"),n(C,"id","name"),n(C,"class","form-control"),n(C,"placeholder","Enter user name"),n(E,"class","col"),n(y,"for","email"),n(y,"class","form-label"),n(N,"type","email"),n(N,"id","email"),n(N,"class","form-control"),n(N,"placeholder","Enter user email"),n(P,"class","col"),n(h,"class","row mb-3"),n(H,"for","password"),n(H,"class","form-label"),n(O,"type","password"),n(O,"id","password"),n(O,"class","form-control"),n(O,"placeholder","Enter user password"),n(U,"class","col"),n(F,"for","preferences"),n(F,"class","form-label"),n(D,"type","text"),n(D,"id","preferences"),n(D,"class","form-control"),n(D,"placeholder","e.g., vegan, low carb"),n(m,"class","col"),n(p,"class","row mb-3"),n(J,"type","button"),n(J,"class","btn btn-primary"),n(d,"class","mb-5"),n(S,"class","table")},m(e,i){k(e,t,i),k(e,a,i),L&&L.m(e,i),k(e,o,i),k(e,d,i),r(d,h),r(h,E),r(E,w),r(E,j),r(E,C),K(C,l[4].name),r(h,z),r(h,P),r(P,y),r(P,G),r(P,N),K(N,l[4].email),r(d,V),r(d,p),r(p,U),r(U,H),r(U,re),r(U,O),K(O,l[4].password),r(p,R),r(p,m),r(m,F),r(m,Z),r(m,D),K(D,l[4].preferences),r(d,we),r(d,J),r(J,fe),r(d,Ue),g&&g.m(d,null),k(e,ce,i),k(e,de,i),k(e,pe,i),I&&I.m(e,i),k(e,x,i),k(e,W,i),k(e,he,i),k(e,S,i),r(S,$),r(S,Te),r(S,ee);for(let _=0;_<T.length;_+=1)T[_]&&T[_].m(ee,null);k(e,me,i),B&&B.m(e,i),k(e,te,i),Ne||(Ie=[Q(C,"input",l[9]),Q(N,"input",l[10]),Q(O,"input",l[11]),Q(D,"input",l[12]),Q(J,"click",l[5])],Ne=!0)},p(e,[i]){if(e[2]?L?L.p(e,i):(L=Oe(e),L.c(),L.m(o.parentNode,o)):L&&(L.d(1),L=null),i&16&&C.value!==e[4].name&&K(C,e[4].name),i&16&&N.value!==e[4].email&&K(N,e[4].email),i&16&&O.value!==e[4].password&&K(O,e[4].password),i&16&&D.value!==e[4].preferences&&K(D,e[4].preferences),i&2&&ae!==(ae=e[1]?"Update User":"Add User")&&ue(fe,ae),e[1]?g?g.p(e,i):(g=je(e),g.c(),g.m(d,null)):g&&(g.d(1),g=null),e[3]?I||(I=qe(),I.c(),I.m(x.parentNode,x)):I&&(I.d(1),I=null),i&193){le=Me(e[0]);let _;for(_=0;_<le.length;_+=1){const X=Ve(e,le,_);T[_]?T[_].p(X,i):(T[_]=ze(X),T[_].c(),T[_].m(ee,null))}for(;_<T.length;_+=1)T[_].d(1);T.length=le.length}e[0].length===0&&!e[3]?B||(B=Re(),B.c(),B.m(te.parentNode,te)):B&&(B.d(1),B=null)},i:Le,o:Le,d(e){e&&(u(t),u(a),u(o),u(d),u(ce),u(de),u(pe),u(x),u(W),u(he),u(S),u(me),u(te)),L&&L.d(e),g&&g.d(),I&&I.d(e),Qe(T,e),B&&B.d(e),Ne=!1,Fe(Ie)}}}const ke="http://localhost:8080/api/user";function Ze(l,t,s){Ye(l,We,p=>s(15,p));let a=[],o={name:"",email:"",password:"",preferences:""},d=null,h="",E=!1;async function w(){s(3,E=!0),s(2,h="");try{const p=await ye.get(ke);s(0,a=p.data)}catch(p){s(2,h="Could not fetch users."),console.error("Error fetching users:",p)}finally{s(3,E=!1)}}async function Y(){if(!o.name||!o.email){s(2,h="Name and Email are required.");return}try{d?(await ye.put(`${ke}/${d}`,o),alert("User updated successfully.")):(await ye.post(ke,o),alert("User added successfully.")),z(),w()}catch(p){s(2,h="Could not save user."),console.error("Error saving user:",p)}}async function j(p){try{await ye.delete(`${ke}/${p}`),alert("User deleted successfully."),w()}catch(U){s(2,h="Could not delete user."),console.error("Error deleting user:",U)}}function C(p){const U=a.find(H=>H.id===p);U&&(s(4,o={...U}),s(1,d=p))}function z(){s(4,o={name:"",email:"",password:"",preferences:""}),s(1,d=null),s(2,h="")}Ge(()=>{w()});function P(){o.name=this.value,s(4,o)}function y(){o.email=this.value,s(4,o)}function M(){o.password=this.value,s(4,o)}function G(){o.preferences=this.value,s(4,o)}return[a,d,h,E,o,Y,j,C,z,P,y,M,G,p=>C(p.id),p=>j(p.id)]}class lt extends Je{constructor(t){super(),Ke(this,t,Ze,Xe,Se,{})}}export{lt as component};
//# sourceMappingURL=7.BzWOHdHj.js.map
