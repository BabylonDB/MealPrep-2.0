import{s as Se,n as Le,r as Fe,o as Ye}from"../chunks/scheduler.5jWEhooB.js";import{S as Ge,i as Je,b as f,s as v,t as oe,e as He,c,g as j,h as b,f as A,d as u,n as ie,j as n,a as U,k as l,l as K,m as Q,o as ue,q as Ke}from"../chunks/index.4BCV0MbB.js";import{e as Me}from"../chunks/each.D6YF6ztN.js";import{a as ye}from"../chunks/axios.CCb-kr4I.js";import"../chunks/store.CNL4ACSx.js";function Ve(s,t,r){const a=s.slice();return a[4]=t[r],a}function Oe(s){let t,r;return{c(){t=f("div"),r=oe(s[2]),this.h()},l(a){t=c(a,"DIV",{class:!0});var o=A(t);r=ie(o,s[2]),o.forEach(u),this.h()},h(){n(t,"class","alert alert-danger")},m(a,o){U(a,t,o),l(t,r)},p(a,o){o&4&&ue(r,a[2])},d(a){a&&u(t)}}}function qe(s){let t,r="Cancel",a,o;return{c(){t=f("button"),t.textContent=r,this.h()},l(d){t=c(d,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1jw19kd"&&(t.textContent=r),this.h()},h(){n(t,"type","button"),n(t,"class","btn btn-secondary ms-2")},m(d,h){U(d,t,h),a||(o=Q(t,"click",s[8]),a=!0)},p:Le,d(d){d&&u(t),a=!1,o()}}}function je(s){let t,r='<span class="visually-hidden">Loading...</span>';return{c(){t=f("div"),t.innerHTML=r,this.h()},l(a){t=c(a,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),j(t)!=="svelte-gq0gie"&&(t.innerHTML=r),this.h()},h(){n(t,"class","spinner-border text-primary"),n(t,"role","status")},m(a,o){U(a,t,o)},d(a){a&&u(t)}}}function ze(s){let t,r,a=s[4].name+"",o,d,h,E=s[4].email+"",k,Y,q,C=(s[4].preferences||"N/A")+"",z,P,y,M,G="Edit",N,V,p="Delete",w,H,se;function re(){return s[13](s[4])}function O(){return s[14](s[4])}return{c(){t=f("tr"),r=f("td"),o=oe(a),d=v(),h=f("td"),k=oe(E),Y=v(),q=f("td"),z=oe(C),P=v(),y=f("td"),M=f("button"),M.textContent=G,N=v(),V=f("button"),V.textContent=p,w=v(),this.h()},l(R){t=c(R,"TR",{});var m=A(t);r=c(m,"TD",{});var F=A(r);o=ie(F,a),F.forEach(u),d=b(m),h=c(m,"TD",{});var ne=A(h);k=ie(ne,E),ne.forEach(u),Y=b(m),q=c(m,"TD",{});var Z=A(q);z=ie(Z,C),Z.forEach(u),P=b(m),y=c(m,"TD",{});var D=A(y);M=c(D,"BUTTON",{class:!0,"data-svelte-h":!0}),j(M)!=="svelte-iiwyyv"&&(M.textContent=G),N=b(D),V=c(D,"BUTTON",{class:!0,"data-svelte-h":!0}),j(V)!=="svelte-1irvc8p"&&(V.textContent=p),D.forEach(u),w=b(m),m.forEach(u),this.h()},h(){n(M,"class","btn btn-warning btn-sm"),n(V,"class","btn btn-danger btn-sm ms-2")},m(R,m){U(R,t,m),l(t,r),l(r,o),l(t,d),l(t,h),l(h,k),l(t,Y),l(t,q),l(q,z),l(t,P),l(t,y),l(y,M),l(y,N),l(y,V),l(t,w),H||(se=[Q(M,"click",re),Q(V,"click",O)],H=!0)},p(R,m){s=R,m&1&&a!==(a=s[4].name+"")&&ue(o,a),m&1&&E!==(E=s[4].email+"")&&ue(k,E),m&1&&C!==(C=(s[4].preferences||"N/A")+"")&&ue(z,C)},d(R){R&&u(t),H=!1,Fe(se)}}}function Re(s){let t,r="No users available.";return{c(){t=f("p"),t.textContent=r},l(a){t=c(a,"P",{"data-svelte-h":!0}),j(t)!=="svelte-1hgwweq"&&(t.textContent=r)},m(a,o){U(a,t,o)},d(a){a&&u(t)}}}function Qe(s){let t,r="User Management",a,o,d,h,E,k,Y="Name",q,C,z,P,y,M="Email",G,N,V,p,w,H,se="Password",re,O,R,m,F,ne="Preferences",Z,D,ke,J,ae=s[1]?"Update User":"Add User",fe,we,ce,de,pe,x,W,ge="All Users",he,S,$,Ae="<tr><th>Name</th> <th>Email</th> <th>Preferences</th> <th>Actions</th></tr>",Te,ee,me,te,Ne,Ie,L=s[2]&&Oe(s),g=s[1]&&qe(s),I=s[3]&&je(),le=Me(s[0]),T=[];for(let e=0;e<le.length;e+=1)T[e]=ze(Ve(s,le,e));let B=s[0].length===0&&!s[3]&&Re();return{c(){t=f("h1"),t.textContent=r,a=v(),L&&L.c(),o=v(),d=f("form"),h=f("div"),E=f("div"),k=f("label"),k.textContent=Y,q=v(),C=f("input"),z=v(),P=f("div"),y=f("label"),y.textContent=M,G=v(),N=f("input"),V=v(),p=f("div"),w=f("div"),H=f("label"),H.textContent=se,re=v(),O=f("input"),R=v(),m=f("div"),F=f("label"),F.textContent=ne,Z=v(),D=f("input"),ke=v(),J=f("button"),fe=oe(ae),we=v(),g&&g.c(),ce=v(),de=f("hr"),pe=v(),I&&I.c(),x=v(),W=f("h2"),W.textContent=ge,he=v(),S=f("table"),$=f("thead"),$.innerHTML=Ae,Te=v(),ee=f("tbody");for(let e=0;e<T.length;e+=1)T[e].c();me=v(),B&&B.c(),te=He(),this.h()},l(e){t=c(e,"H1",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-9mzzxm"&&(t.textContent=r),a=b(e),L&&L.l(e),o=b(e),d=c(e,"FORM",{class:!0});var i=A(d);h=c(i,"DIV",{class:!0});var _=A(h);E=c(_,"DIV",{class:!0});var X=A(E);k=c(X,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(k)!=="svelte-17mpp60"&&(k.textContent=Y),q=b(X),C=c(X,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),X.forEach(u),z=b(_),P=c(_,"DIV",{class:!0});var _e=A(P);y=c(_e,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(y)!=="svelte-7zanfm"&&(y.textContent=M),G=b(_e),N=c(_e,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),_e.forEach(u),_.forEach(u),V=b(i),p=c(i,"DIV",{class:!0});var ve=A(p);w=c(ve,"DIV",{class:!0});var be=A(w);H=c(be,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(H)!=="svelte-tyrfrg"&&(H.textContent=se),re=b(be),O=c(be,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),be.forEach(u),R=b(ve),m=c(ve,"DIV",{class:!0});var Ce=A(m);F=c(Ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(F)!=="svelte-1vw6fvm"&&(F.textContent=ne),Z=b(Ce),D=c(Ce,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),Ce.forEach(u),ve.forEach(u),ke=b(i),J=c(i,"BUTTON",{type:!0,class:!0});var Be=A(J);fe=ie(Be,ae),Be.forEach(u),we=b(i),g&&g.l(i),i.forEach(u),ce=b(e),de=c(e,"HR",{}),pe=b(e),I&&I.l(e),x=b(e),W=c(e,"H2",{"data-svelte-h":!0}),j(W)!=="svelte-uy9p0r"&&(W.textContent=ge),he=b(e),S=c(e,"TABLE",{class:!0});var Ee=A(S);$=c(Ee,"THEAD",{"data-svelte-h":!0}),j($)!=="svelte-1isxlvj"&&($.innerHTML=Ae),Te=b(Ee),ee=c(Ee,"TBODY",{});var Pe=A(ee);for(let De=0;De<T.length;De+=1)T[De].l(Pe);Pe.forEach(u),Ee.forEach(u),me=b(e),B&&B.l(e),te=He(),this.h()},h(){n(t,"class","mt-3"),n(k,"for","name"),n(k,"class","form-label"),n(C,"type","text"),n(C,"id","name"),n(C,"class","form-control"),n(C,"placeholder","Enter user name"),n(E,"class","col"),n(y,"for","email"),n(y,"class","form-label"),n(N,"type","email"),n(N,"id","email"),n(N,"class","form-control"),n(N,"placeholder","Enter user email"),n(P,"class","col"),n(h,"class","row mb-3"),n(H,"for","password"),n(H,"class","form-label"),n(O,"type","password"),n(O,"id","password"),n(O,"class","form-control"),n(O,"placeholder","Enter user password"),n(w,"class","col"),n(F,"for","preferences"),n(F,"class","form-label"),n(D,"type","text"),n(D,"id","preferences"),n(D,"class","form-control"),n(D,"placeholder","e.g., vegan, low carb"),n(m,"class","col"),n(p,"class","row mb-3"),n(J,"type","button"),n(J,"class","btn btn-primary"),n(d,"class","mb-5"),n(S,"class","table")},m(e,i){U(e,t,i),U(e,a,i),L&&L.m(e,i),U(e,o,i),U(e,d,i),l(d,h),l(h,E),l(E,k),l(E,q),l(E,C),K(C,s[4].name),l(h,z),l(h,P),l(P,y),l(P,G),l(P,N),K(N,s[4].email),l(d,V),l(d,p),l(p,w),l(w,H),l(w,re),l(w,O),K(O,s[4].password),l(p,R),l(p,m),l(m,F),l(m,Z),l(m,D),K(D,s[4].preferences),l(d,ke),l(d,J),l(J,fe),l(d,we),g&&g.m(d,null),U(e,ce,i),U(e,de,i),U(e,pe,i),I&&I.m(e,i),U(e,x,i),U(e,W,i),U(e,he,i),U(e,S,i),l(S,$),l(S,Te),l(S,ee);for(let _=0;_<T.length;_+=1)T[_]&&T[_].m(ee,null);U(e,me,i),B&&B.m(e,i),U(e,te,i),Ne||(Ie=[Q(C,"input",s[9]),Q(N,"input",s[10]),Q(O,"input",s[11]),Q(D,"input",s[12]),Q(J,"click",s[5])],Ne=!0)},p(e,[i]){if(e[2]?L?L.p(e,i):(L=Oe(e),L.c(),L.m(o.parentNode,o)):L&&(L.d(1),L=null),i&16&&C.value!==e[4].name&&K(C,e[4].name),i&16&&N.value!==e[4].email&&K(N,e[4].email),i&16&&O.value!==e[4].password&&K(O,e[4].password),i&16&&D.value!==e[4].preferences&&K(D,e[4].preferences),i&2&&ae!==(ae=e[1]?"Update User":"Add User")&&ue(fe,ae),e[1]?g?g.p(e,i):(g=qe(e),g.c(),g.m(d,null)):g&&(g.d(1),g=null),e[3]?I||(I=je(),I.c(),I.m(x.parentNode,x)):I&&(I.d(1),I=null),i&193){le=Me(e[0]);let _;for(_=0;_<le.length;_+=1){const X=Ve(e,le,_);T[_]?T[_].p(X,i):(T[_]=ze(X),T[_].c(),T[_].m(ee,null))}for(;_<T.length;_+=1)T[_].d(1);T.length=le.length}e[0].length===0&&!e[3]?B||(B=Re(),B.c(),B.m(te.parentNode,te)):B&&(B.d(1),B=null)},i:Le,o:Le,d(e){e&&(u(t),u(a),u(o),u(d),u(ce),u(de),u(pe),u(x),u(W),u(he),u(S),u(me),u(te)),L&&L.d(e),g&&g.d(),I&&I.d(e),Ke(T,e),B&&B.d(e),Ne=!1,Fe(Ie)}}}const Ue="http://localhost:8080/api/user";function We(s,t,r){let a=[],o={name:"",email:"",password:"",preferences:""},d=null,h="",E=!1;async function k(){r(3,E=!0),r(2,h="");try{const p=await ye.get(Ue);r(0,a=p.data)}catch(p){r(2,h="Could not fetch users."),console.error("Error fetching users:",p)}finally{r(3,E=!1)}}async function Y(){if(!o.name||!o.email){r(2,h="Name and Email are required.");return}try{d?(await ye.put(`${Ue}/${d}`,o),alert("User updated successfully.")):(await ye.post(Ue,o),alert("User added successfully.")),z(),k()}catch(p){r(2,h="Could not save user."),console.error("Error saving user:",p)}}async function q(p){try{await ye.delete(`${Ue}/${p}`),alert("User deleted successfully."),k()}catch(w){r(2,h="Could not delete user."),console.error("Error deleting user:",w)}}function C(p){const w=a.find(H=>H.id===p);w&&(r(4,o={...w}),r(1,d=p))}function z(){r(4,o={name:"",email:"",password:"",preferences:""}),r(1,d=null),r(2,h="")}Ye(()=>{k()});function P(){o.name=this.value,r(4,o)}function y(){o.email=this.value,r(4,o)}function M(){o.password=this.value,r(4,o)}function G(){o.preferences=this.value,r(4,o)}return[a,d,h,E,o,Y,q,C,z,P,y,M,G,p=>C(p.id),p=>q(p.id)]}class tt extends Ge{constructor(t){super(),Je(this,t,We,Qe,Se,{})}}export{tt as component};
//# sourceMappingURL=7.DInVgFKX.js.map
