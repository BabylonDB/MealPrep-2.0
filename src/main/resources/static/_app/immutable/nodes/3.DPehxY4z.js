import{s as Tt,n as dt,r as It,o as kt}from"../chunks/scheduler.BQU0ZC4T.js";import{S as Et,i as gt,e as i,s as E,t as at,c as u,g as R,a as g,h as B,f as p,j as st,b as o,d as w,k as l,l as X,m as Y,n as ot,o as Dt}from"../chunks/index.DacKfstr.js";import{e as mt,a as ct}from"../chunks/axios.DUp5qkD9.js";function vt(a,e,f){const _=a.slice();return _[2]=e[f],_}function bt(a){let e,f="Cancel",_,n;return{c(){e=i("button"),e.textContent=f,this.h()},l(s){e=u(s,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),R(e)!=="svelte-22ah6a"&&(e.textContent=f),this.h()},h(){o(e,"type","button"),o(e,"class","btn btn-secondary")},m(s,m){w(s,e,m),_||(n=Y(e,"click",a[6]),_=!0)},p:dt,d(s){s&&p(e),_=!1,n()}}}function Ct(a){let e,f,_=a[2].userId+"",n,s,m,T=a[2].recipeId+"",x,O,b,A=a[2].date+"",D,M,N,y,r="Edit",C,c,P="Delete",G,S,L;function Z(){return a[10](a[2])}function H(){return a[11](a[2])}return{c(){e=i("tr"),f=i("td"),n=at(_),s=E(),m=i("td"),x=at(T),O=E(),b=i("td"),D=at(A),M=E(),N=i("td"),y=i("button"),y.textContent=r,C=E(),c=i("button"),c.textContent=P,G=E(),this.h()},l(U){e=u(U,"TR",{});var v=B(e);f=u(v,"TD",{});var J=B(f);n=st(J,_),J.forEach(p),s=g(v),m=u(v,"TD",{});var V=B(m);x=st(V,T),V.forEach(p),O=g(v),b=u(v,"TD",{});var j=B(b);D=st(j,A),j.forEach(p),M=g(v),N=u(v,"TD",{});var F=B(N);y=u(F,"BUTTON",{class:!0,"data-svelte-h":!0}),R(y)!=="svelte-qtqvcx"&&(y.textContent=r),C=g(F),c=u(F,"BUTTON",{class:!0,"data-svelte-h":!0}),R(c)!=="svelte-1i2uqky"&&(c.textContent=P),F.forEach(p),G=g(v),v.forEach(p),this.h()},h(){o(y,"class","btn btn-warning btn-sm"),o(c,"class","btn btn-danger btn-sm")},m(U,v){w(U,e,v),l(e,f),l(f,n),l(e,s),l(e,m),l(m,x),l(e,O),l(e,b),l(b,D),l(e,M),l(e,N),l(N,y),l(N,C),l(N,c),l(e,G),S||(L=[Y(y,"click",Z),Y(c,"click",H)],S=!0)},p(U,v){a=U,v&1&&_!==(_=a[2].userId+"")&&ot(n,_),v&1&&T!==(T=a[2].recipeId+"")&&ot(x,T),v&1&&A!==(A=a[2].date+"")&&ot(D,A)},d(U){U&&p(e),S=!1,It(L)}}}function Mt(a){let e,f="Create or Edit Meal Plan",_,n,s,m,T,x="User ID",O,b,A,D,M,N="Recipe ID",y,r,C,c,P,G="Date",S,L,Z,H,U=a[1]?"Update":"Submit",v,J,V,j,F="All Meal Plans",$,q,K,ft='<tr><th scope="col">User ID</th> <th scope="col">Recipe ID</th> <th scope="col">Date</th> <th scope="col">Actions</th></tr>',rt,Q,it,ht,k=a[1]&&bt(a),W=mt(a[0]),I=[];for(let t=0;t<W.length;t+=1)I[t]=Ct(vt(a,W,t));return{c(){e=i("h1"),e.textContent=f,_=E(),n=i("form"),s=i("div"),m=i("div"),T=i("label"),T.textContent=x,O=E(),b=i("input"),A=E(),D=i("div"),M=i("label"),M.textContent=N,y=E(),r=i("input"),C=E(),c=i("div"),P=i("label"),P.textContent=G,S=E(),L=i("input"),Z=E(),H=i("button"),v=at(U),J=E(),k&&k.c(),V=E(),j=i("h1"),j.textContent=F,$=E(),q=i("table"),K=i("thead"),K.innerHTML=ft,rt=E(),Q=i("tbody");for(let t=0;t<I.length;t+=1)I[t].c();this.h()},l(t){e=u(t,"H1",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1p2kjjl"&&(e.textContent=f),_=g(t),n=u(t,"FORM",{class:!0});var h=B(n);s=u(h,"DIV",{class:!0});var d=B(s);m=u(d,"DIV",{class:!0});var z=B(m);T=u(z,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),R(T)!=="svelte-1gg64ts"&&(T.textContent=x),O=g(z),b=u(z,"INPUT",{class:!0,id:!0,type:!0}),z.forEach(p),A=g(d),D=u(d,"DIV",{class:!0});var tt=B(D);M=u(tt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),R(M)!=="svelte-1nk9nh4"&&(M.textContent=N),y=g(tt),r=u(tt,"INPUT",{class:!0,id:!0,type:!0}),tt.forEach(p),C=g(d),c=u(d,"DIV",{class:!0});var et=B(c);P=u(et,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),R(P)!=="svelte-1wu1a36"&&(P.textContent=G),S=g(et),L=u(et,"INPUT",{class:!0,id:!0,type:!0}),et.forEach(p),d.forEach(p),Z=g(h),H=u(h,"BUTTON",{type:!0,class:!0});var pt=B(H);v=st(pt,U),pt.forEach(p),J=g(h),k&&k.l(h),h.forEach(p),V=g(t),j=u(t,"H1",{"data-svelte-h":!0}),R(j)!=="svelte-12s0uw6"&&(j.textContent=F),$=g(t),q=u(t,"TABLE",{class:!0});var lt=B(q);K=u(lt,"THEAD",{"data-svelte-h":!0}),R(K)!=="svelte-1pkzti3"&&(K.innerHTML=ft),rt=g(lt),Q=u(lt,"TBODY",{});var _t=B(Q);for(let ut=0;ut<I.length;ut+=1)I[ut].l(_t);_t.forEach(p),lt.forEach(p),this.h()},h(){o(e,"class","mt-3"),o(T,"class","form-label"),o(T,"for","userId"),o(b,"class","form-control"),o(b,"id","userId"),o(b,"type","text"),o(m,"class","col"),o(M,"class","form-label"),o(M,"for","recipeId"),o(r,"class","form-control"),o(r,"id","recipeId"),o(r,"type","text"),o(D,"class","col"),o(P,"class","form-label"),o(P,"for","date"),o(L,"class","form-control"),o(L,"id","date"),o(L,"type","date"),o(c,"class","col"),o(s,"class","row mb-3"),o(H,"type","button"),o(H,"class","btn btn-primary"),o(n,"class","mb-5"),o(q,"class","table")},m(t,h){w(t,e,h),w(t,_,h),w(t,n,h),l(n,s),l(s,m),l(m,T),l(m,O),l(m,b),X(b,a[2].userId),l(s,A),l(s,D),l(D,M),l(D,y),l(D,r),X(r,a[2].recipeId),l(s,C),l(s,c),l(c,P),l(c,S),l(c,L),X(L,a[2].date),l(n,Z),l(n,H),l(H,v),l(n,J),k&&k.m(n,null),w(t,V,h),w(t,j,h),w(t,$,h),w(t,q,h),l(q,K),l(q,rt),l(q,Q);for(let d=0;d<I.length;d+=1)I[d]&&I[d].m(Q,null);it||(ht=[Y(b,"input",a[7]),Y(r,"input",a[8]),Y(L,"input",a[9]),Y(H,"click",a[3])],it=!0)},p(t,[h]){if(h&4&&b.value!==t[2].userId&&X(b,t[2].userId),h&4&&r.value!==t[2].recipeId&&X(r,t[2].recipeId),h&4&&X(L,t[2].date),h&2&&U!==(U=t[1]?"Update":"Submit")&&ot(v,U),t[1]?k?k.p(t,h):(k=bt(t),k.c(),k.m(n,null)):k&&(k.d(1),k=null),h&49){W=mt(t[0]);let d;for(d=0;d<W.length;d+=1){const z=vt(t,W,d);I[d]?I[d].p(z,h):(I[d]=Ct(z),I[d].c(),I[d].m(Q,null))}for(;d<I.length;d+=1)I[d].d(1);I.length=W.length}},i:dt,o:dt,d(t){t&&(p(e),p(_),p(n),p(V),p(j),p($),p(q)),k&&k.d(),Dt(I,t),it=!1,It(ht)}}}const nt="http://localhost:8080/mealplan";function Pt(a,e,f){let _=[],n={userId:null,recipeId:null,date:null},s=null;kt(()=>{m()});function m(){var r={method:"get",url:nt+"/api/mealplan",headers:{}};ct(r).then(function(C){f(0,_=C.data)}).catch(function(C){alert("Could not fetch meal plans"),console.log(C)})}function T(){const r=s?"put":"post",C=s?`${nt}/api/mealplan/${s}`:nt+"/api/mealplan";var c={method:r,url:C,headers:{"Content-Type":"application/json"},data:n};ct(c).then(function(P){alert(s?"Meal plan updated":"Meal plan created"),b(),m()}).catch(function(P){alert("Could not save meal plan"),console.log(P)})}function x(r){const C=_.find(c=>c.id===r);C&&(f(2,n={...C}),f(1,s=r))}function O(r){var C={method:"delete",url:`${nt}/api/mealplan/${r}`,headers:{}};ct(C).then(function(c){alert("Meal plan deleted"),m()}).catch(function(c){alert("Could not delete meal plan"),console.log(c)})}function b(){f(2,n={userId:null,recipeId:null,date:null}),f(1,s=null)}function A(){n.userId=this.value,f(2,n)}function D(){n.recipeId=this.value,f(2,n)}function M(){n.date=this.value,f(2,n)}return[_,s,n,T,x,O,b,A,D,M,r=>x(r.id),r=>O(r.id)]}class Lt extends Et{constructor(e){super(),gt(this,e,Pt,Mt,Tt,{})}}export{Lt as component};
//# sourceMappingURL=3.DPehxY4z.js.map
