{"version":3,"file":"4.Bxszemik.js","sources":["../../../../../../src/routes/recipe/+page.svelte"],"sourcesContent":["<script>\nimport axios from \"axios\";\n\nconst api_root = \"http://localhost:8080/api\"; \nimport { onMount } from \"svelte\";\nimport { jwt_token } from \"../../store\";\n\n\n\nlet recipes = [];\nlet recipe = {\n  name: null,\n  ingredients: null,\n  calories: null,\n  \n};\n\n// Fetch all recipes on mount\nonMount(() => {\n  getRecipes();\n});\n\n// Get all recipes\nfunction getRecipes() {\n  var config = {\n    method: \"get\",\n    url: api_root + \"/recipe\",\n    headers: {},\n  };\n\n  axios(config)\n    .then(function (response) {\n      recipes = response.data;\n    })\n    .catch(function (error) {\n      alert(\"Could not fetch recipe\");\n      console.log(error);\n    });\n}\n\nfunction createRecipe() {\n// Zutaten-String in ein Array umwandeln\nconst formattedIngredients = recipe.ingredients\n  ? recipe.ingredients.split(\",\").map(item => item.trim())\n  : [];\n\nconst newRecipe = {\n  name: recipe.name || \"\",\n  ingredients: formattedIngredients,\n  calories: parseInt(recipe.calories, 10) || 0,\n};\n\n// Verwende axios.post direkt\naxios.post(api_root + \"/recipe\", newRecipe, {\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n})\n  .then(function (response) {\n    alert(\"Recipe created successfully\");\n    recipe = { name: \"\", ingredients: \"\", calories: \"\" }; // Formular zur√ºcksetzen\n    getRecipes(); // Rezepte neu laden\n  })\n  .catch(function (error) {\n    alert(\"Could not create recipe\");\n    console.error(\"Error:\", error);\n  });\n}\n\n</script>\n\n<h1 class=\"mt-3\">Create Recipe</h1>\n<form class=\"mb-5\">\n<div class=\"row mb-3\">\n  <div class=\"col\">\n    <label class=\"form-label\" for=\"name\">Name</label>\n    <input\n      bind:value={recipe.name}\n      class=\"form-control\"\n      id=\"name\"\n      type=\"text\"\n    />\n  </div>\n  <div class=\"col\">\n    <label class=\"form-label\" for=\"ingredients\">Ingredients (comma-separated)</label>\n    <input\n      bind:value={recipe.ingredients}\n      class=\"form-control\"\n      id=\"ingredients\"\n      type=\"text\"\n    />\n  </div>\n</div>\n<div class=\"row mb-3\">\n  <div class=\"col\">\n    <label class=\"form-label\" for=\"calories\">Calories</label>\n    <input\n      bind:value={recipe.calories}\n      class=\"form-control\"\n      id=\"calories\"\n      type=\"number\"\n    />\n  </div>  \n</div>\n\n<button type=\"button\" class=\"btn btn-primary\" on:click={createRecipe}>\n  Submit\n</button>\n</form>\n\n<h1>All Recipes</h1>\n<table class=\"table\">\n<thead>\n  <tr>\n    <th scope=\"col\">Name</th>\n    <th scope=\"col\">Ingredients</th>\n    <th scope=\"col\">Calories</th>\n    \n  </tr>\n</thead>\n<tbody>\n  {#each recipes as recipe}\n    <tr>\n      <td>{recipe.name}</td>\n      <td>{recipe.ingredients ? recipe.ingredients.join(\", \") : \"\"}</td>\n      <td>{recipe.calories}</td>\n      \n    </tr>\n  {/each}\n</tbody>\n</table>"],"names":["t0_value","ctx","t2_value","t4_value","insert_hydration","target","tr","anchor","append_hydration","td0","td1","td2","dirty","set_data","t0","t2","t4","i","h10","form","div2","div0","label0","input0","set_input_value","div1","label1","input1","div4","div3","label2","input2","button","h11","table","thead","tbody","to_number","api_root","recipes","recipe","onMount","getRecipes","config","axios","response","error","createRecipe","formattedIngredients","item","newRecipe"],"mappings":"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"}