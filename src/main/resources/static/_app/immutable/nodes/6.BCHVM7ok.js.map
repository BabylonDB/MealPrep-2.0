{"version":3,"file":"6.BCHVM7ok.js","sources":["../../../../../../src/routes/user/+page.svelte"],"sourcesContent":["<script>\r\n  import axios from \"axios\";\r\n  import { onMount } from \"svelte\";\r\n\r\n  const api_root_recipes = \"http://localhost:8080/api/recipes\";\r\n  const api_root_shoppinglist = \"http://localhost:8080/api/shoppinglist\";\r\n\r\n  let preferences = \"\";\r\n  let recipe = null;\r\n  let shoppingList = [];\r\n\r\n  // Fetch a random recipe based on user preferences\r\n  async function getRandomRecipe() {\r\n    try {\r\n      const response = await axios.get(`${api_root_recipes}/random`, {\r\n        params: { preferences },\r\n      });\r\n      recipe = response.data;\r\n      generateShoppingList();\r\n    } catch (error) {\r\n      alert(\"Could not fetch recipe\");\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  // Generate a shopping list for the selected recipe\r\n  async function generateShoppingList() {\r\n    try {\r\n      const response = await axios.post(api_root_shoppinglist, { recipeId: recipe.id });\r\n      shoppingList = response.data;\r\n      alert(\"Shopping list successfully created\");\r\n    } catch (error) {\r\n      alert(\"Could not generate shopping list\");\r\n      console.log(error);\r\n    }\r\n  }\r\n</script>\r\n\r\n<h1>Recipe Finder</h1>\r\n<p>Enter your preferences to find a recipe and generate a shopping list.</p>\r\n\r\n<form class=\"mb-5\">\r\n  <div class=\"row mb-3\">\r\n    <div class=\"col\">\r\n      <label class=\"form-label\" for=\"preferences\">Preferences</label>\r\n      <input\r\n        bind:value={preferences}\r\n        class=\"form-control\"\r\n        id=\"preferences\"\r\n        type=\"text\"\r\n        placeholder=\"e.g., vegan, low carb\"\r\n      />\r\n    </div>\r\n  </div>\r\n  <button type=\"button\" class=\"btn btn-primary\" on:click={getRandomRecipe}>\r\n    Find Recipe\r\n  </button>\r\n</form>\r\n\r\n{#if recipe}\r\n  <h2>Selected Recipe</h2>\r\n  <p><strong>Name:</strong> {recipe.name}</p>\r\n  <p><strong>Ingredients:</strong> {recipe.ingredients ? recipe.ingredients.join(\", \") : \"\"}</p>\r\n  <p><strong>Instructions:</strong> {recipe.instructions}</p>\r\n{/if}\r\n\r\n{#if shoppingList.length > 0}\r\n  <h2>Shopping List</h2>\r\n  <table class=\"table\">\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\">Item</th>\r\n        <th scope=\"col\">Quantity</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {#each shoppingList as item}\r\n        <tr>\r\n          <td>{item.name}</td>\r\n          <td>{item.quantity}</td>\r\n        </tr>\r\n      {/each}\r\n    </tbody>\r\n  </table>\r\n{/if}\r\n"],"names":["t4_value","ctx","t8_value","t12_value","insert_hydration","target","h2","anchor","p0","append_hydration","strong0","p1","strong1","p2","strong2","dirty","set_data","t4","t8","t12","i","table","thead","tbody","t0_value","t2_value","tr","td0","td1","t0","t2","create_if_block_1","create_if_block","h1","p","form","div1","div0","label","input","button","api_root_recipes","api_root_shoppinglist","preferences","recipe","shoppingList","getRandomRecipe","response","axios","generateShoppingList","error"],"mappings":"0ZA6D6BA,EAAAC,KAAO,KAAI,8BACJC,GAAAD,KAAO,YAAcA,EAAO,CAAA,EAAA,YAAY,KAAK,IAAI,EAAI,IAAE,+BACtDE,EAAAF,KAAO,aAAY,utBAHtDG,EAAwBC,EAAAC,EAAAC,CAAA,WACxBH,EAA2CC,EAAAG,EAAAD,CAAA,EAAxCE,EAAsBD,EAAAE,CAAA,yBACzBN,EAA8FC,EAAAM,EAAAJ,CAAA,EAA3FE,EAA6BE,EAAAC,CAAA,yBAChCR,EAA2DC,EAAAQ,EAAAN,CAAA,EAAxDE,EAA8BI,EAAAC,CAAA,wBAFNC,EAAA,GAAAf,KAAAA,EAAAC,KAAO,KAAI,KAAAe,EAAAC,EAAAjB,CAAA,EACJe,EAAA,GAAAb,KAAAA,GAAAD,KAAO,YAAcA,EAAO,CAAA,EAAA,YAAY,KAAK,IAAI,EAAI,IAAE,KAAAe,EAAAE,EAAAhB,CAAA,EACtDa,EAAA,GAAAZ,KAAAA,EAAAF,KAAO,aAAY,KAAAe,EAAAG,EAAAhB,CAAA,2KAa3CF,EAAY,CAAA,CAAA,uBAAjB,OAAImB,GAAA,ggBATVhB,EAAsBC,EAAAC,EAAAC,CAAA,WACtBH,EAeQC,EAAAgB,EAAAd,CAAA,EAdNE,EAKQY,EAAAC,CAAA,SACRb,EAOQY,EAAAE,CAAA,uEANCtB,EAAY,CAAA,CAAA,oBAAjB,OAAImB,GAAA,EAAA,iHAAJ,kEAEOI,EAAAvB,KAAK,KAAI,SACTwB,EAAAxB,KAAK,SAAQ,6OAFpBG,EAGKC,EAAAqB,EAAAnB,CAAA,EAFHE,EAAoBiB,EAAAC,CAAA,gBACpBlB,EAAwBiB,EAAAE,CAAA,wBADnBb,EAAA,GAAAS,KAAAA,EAAAvB,KAAK,KAAI,KAAAe,EAAAa,EAAAL,CAAA,EACTT,EAAA,GAAAU,KAAAA,EAAAxB,KAAK,SAAQ,KAAAe,EAAAc,EAAAL,CAAA,qMApBvBxB,EAAM,CAAA,GAAA8B,EAAA9B,CAAA,IAONA,EAAY,CAAA,EAAC,OAAS,GAAC+B,EAAA/B,CAAA,ooCA5B5BG,EAAsBC,EAAA4B,EAAA1B,CAAA,WACtBH,EAA4EC,EAAA6B,EAAA3B,CAAA,WAE5EH,EAgBOC,EAAA8B,EAAA5B,CAAA,EAfLE,EAWM0B,EAAAC,CAAA,EAVJ3B,EASM2B,EAAAC,CAAA,EARJ5B,EAA+D4B,EAAAC,CAAA,SAC/D7B,EAME4B,EAAAE,CAAA,MALYtC,EAAW,CAAA,CAAA,SAQ7BQ,EAES0B,EAAAK,CAAA,0FAF+CvC,EAAe,CAAA,CAAA,kCARrDA,EAAW,CAAA,OAAXA,EAAW,CAAA,CAAA,EAa1BA,EAAM,CAAA,mEAONA,EAAY,CAAA,EAAC,OAAS,8JA9DnB,MAAAwC,GAAmB,oCACnBC,GAAwB,4DAE1B,IAAAC,EAAc,GACdC,EAAS,KACTC,EAAY,CAAA,iBAGDC,GAAe,WAEpBC,EAAQ,MAASC,EAAM,OAAOP,EAAgB,UAAA,CAClD,OAAM,CAAI,YAAAE,CAAW,CAAA,CAAA,MAEvBC,EAASG,EAAS,IAAI,EACtBE,UACOC,EAAK,CACZ,MAAM,wBAAwB,EAC9B,QAAQ,IAAIA,CAAK,kBAKND,GAAoB,WAEzBF,EAAQ,MAASC,EAAM,KAAKN,GAAqB,CAAI,SAAUE,EAAO,EAAE,CAAA,MAC9EC,EAAeE,EAAS,IAAI,EAC5B,MAAM,oCAAoC,QACnCG,EAAK,CACZ,MAAM,kCAAkC,EACxC,QAAQ,IAAIA,CAAK,gBAaHP,EAAW,KAAA"}