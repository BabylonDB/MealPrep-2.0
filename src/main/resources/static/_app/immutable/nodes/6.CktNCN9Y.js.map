{"version":3,"file":"6.CktNCN9Y.js","sources":["../../../../../../src/routes/user/+page.svelte"],"sourcesContent":["<script>\n  import axios from \"axios\";\n  import { onMount } from \"svelte\";\n\n  const api_root_recipes = \"http://localhost:8080/api/recipes\";\n  const api_root_shoppinglist = \"http://localhost:8080/api/shoppinglist\";\n\n  let preferences = \"\";\n  let recipe = null;\n  let shoppingList = [];\n\n  // Fetch a random recipe based on user preferences\n  async function getRandomRecipe() {\n    try {\n      const response = await axios.get(`${api_root_recipes}/random`, {\n        params: { preferences },\n      });\n      recipe = response.data;\n      generateShoppingList();\n    } catch (error) {\n      alert(\"Could not fetch recipe\");\n      console.log(error);\n    }\n  }\n\n  // Generate a shopping list for the selected recipe\n  async function generateShoppingList() {\n    try {\n      const response = await axios.post(api_root_shoppinglist, { recipeId: recipe.id });\n      shoppingList = response.data;\n      alert(\"Shopping list successfully created\");\n    } catch (error) {\n      alert(\"Could not generate shopping list\");\n      console.log(error);\n    }\n  }\n</script>\n\n<h1>Recipe Finder</h1>\n<p>Enter your preferences to find a recipe and generate a shopping list.</p>\n\n<form class=\"mb-5\">\n  <div class=\"row mb-3\">\n    <div class=\"col\">\n      <label class=\"form-label\" for=\"preferences\">Preferences</label>\n      <input\n        bind:value={preferences}\n        class=\"form-control\"\n        id=\"preferences\"\n        type=\"text\"\n        placeholder=\"e.g., vegan, low carb\"\n      />\n    </div>\n  </div>\n  <button type=\"button\" class=\"btn btn-primary\" on:click={getRandomRecipe}>\n    Find Recipe\n  </button>\n</form>\n\n{#if recipe}\n  <h2>Selected Recipe</h2>\n  <p><strong>Name:</strong> {recipe.name}</p>\n  <p><strong>Ingredients:</strong> {recipe.ingredients ? recipe.ingredients.join(\", \") : \"\"}</p>\n  <p><strong>Instructions:</strong> {recipe.instructions}</p>\n{/if}\n\n{#if shoppingList.length > 0}\n  <h2>Shopping List</h2>\n  <table class=\"table\">\n    <thead>\n      <tr>\n        <th scope=\"col\">Item</th>\n        <th scope=\"col\">Quantity</th>\n      </tr>\n    </thead>\n    <tbody>\n      {#each shoppingList as item}\n        <tr>\n          <td>{item.name}</td>\n          <td>{item.quantity}</td>\n        </tr>\n      {/each}\n    </tbody>\n  </table>\n{/if}\n"],"names":["t4_value","ctx","t8_value","t12_value","insert_hydration","target","h2","anchor","p0","append_hydration","strong0","p1","strong1","p2","strong2","dirty","set_data","t4","t8","t12","i","table","thead","tbody","t0_value","t2_value","tr","td0","td1","t0","t2","create_if_block_1","create_if_block","h1","p","form","div1","div0","label","input","button","api_root_recipes","api_root_shoppinglist","preferences","recipe","shoppingList","getRandomRecipe","response","axios","generateShoppingList","error"],"mappings":"0ZA6D6BA,EAAAC,KAAO,KAAI,8BACJC,GAAAD,KAAO,YAAcA,EAAO,CAAA,EAAA,YAAY,KAAK,IAAI,EAAI,IAAE,+BACtDE,EAAAF,KAAO,aAAY,utBAHtDG,EAAuBC,EAAAC,EAAAC,CAAA,WACvBH,EAA0CC,EAAAG,EAAAD,CAAA,EAAvCE,EAAsBD,EAAAE,CAAA,yBACzBN,EAA6FC,EAAAM,EAAAJ,CAAA,EAA1FE,EAA6BE,EAAAC,CAAA,yBAChCR,EAA0DC,EAAAQ,EAAAN,CAAA,EAAvDE,EAA8BI,EAAAC,CAAA,wBAFNC,EAAA,GAAAf,KAAAA,EAAAC,KAAO,KAAI,KAAAe,EAAAC,EAAAjB,CAAA,EACJe,EAAA,GAAAb,KAAAA,GAAAD,KAAO,YAAcA,EAAO,CAAA,EAAA,YAAY,KAAK,IAAI,EAAI,IAAE,KAAAe,EAAAE,EAAAhB,CAAA,EACtDa,EAAA,GAAAZ,KAAAA,EAAAF,KAAO,aAAY,KAAAe,EAAAG,EAAAhB,CAAA,2KAa3CF,EAAY,CAAA,CAAA,uBAAjB,OAAImB,GAAA,ggBATVhB,EAAqBC,EAAAC,EAAAC,CAAA,WACrBH,EAeOC,EAAAgB,EAAAd,CAAA,EAdLE,EAKOY,EAAAC,CAAA,SACPb,EAOOY,EAAAE,CAAA,uEANEtB,EAAY,CAAA,CAAA,oBAAjB,OAAImB,GAAA,EAAA,iHAAJ,kEAEOI,EAAAvB,KAAK,KAAI,SACTwB,EAAAxB,KAAK,SAAQ,6OAFpBG,EAGIC,EAAAqB,EAAAnB,CAAA,EAFFE,EAAmBiB,EAAAC,CAAA,gBACnBlB,EAAuBiB,EAAAE,CAAA,wBADlBb,EAAA,GAAAS,KAAAA,EAAAvB,KAAK,KAAI,KAAAe,EAAAa,EAAAL,CAAA,EACTT,EAAA,GAAAU,KAAAA,EAAAxB,KAAK,SAAQ,KAAAe,EAAAc,EAAAL,CAAA,qMApBvBxB,EAAM,CAAA,GAAA8B,EAAA9B,CAAA,IAONA,EAAY,CAAA,EAAC,OAAS,GAAC+B,EAAA/B,CAAA,ooCA5B5BG,EAAqBC,EAAA4B,EAAA1B,CAAA,WACrBH,EAA2EC,EAAA6B,EAAA3B,CAAA,WAE3EH,EAgBMC,EAAA8B,EAAA5B,CAAA,EAfJE,EAWK0B,EAAAC,CAAA,EAVH3B,EASK2B,EAAAC,CAAA,EARH5B,EAA8D4B,EAAAC,CAAA,SAC9D7B,EAMC4B,EAAAE,CAAA,MALatC,EAAW,CAAA,CAAA,SAQ7BQ,EAEQ0B,EAAAK,CAAA,0FAFgDvC,EAAe,CAAA,CAAA,kCARrDA,EAAW,CAAA,OAAXA,EAAW,CAAA,CAAA,EAa1BA,EAAM,CAAA,mEAONA,EAAY,CAAA,EAAC,OAAS,8JA9DnB,MAAAwC,GAAmB,oCACnBC,GAAwB,4DAE1B,IAAAC,EAAc,GACdC,EAAS,KACTC,EAAY,CAAA,iBAGDC,GAAe,WAEpBC,EAAQ,MAASC,EAAM,OAAOP,EAAgB,UAAA,CAClD,OAAM,CAAI,YAAAE,CAAW,CAAA,CAAA,MAEvBC,EAASG,EAAS,IAAI,EACtBE,UACOC,EAAK,CACZ,MAAM,wBAAwB,EAC9B,QAAQ,IAAIA,CAAK,kBAKND,GAAoB,WAEzBF,EAAQ,MAASC,EAAM,KAAKN,GAAqB,CAAI,SAAUE,EAAO,EAAE,CAAA,MAC9EC,EAAeE,EAAS,IAAI,EAC5B,MAAM,oCAAoC,QACnCG,EAAK,CACZ,MAAM,kCAAkC,EACxC,QAAQ,IAAIA,CAAK,gBAaHP,EAAW,KAAA"}